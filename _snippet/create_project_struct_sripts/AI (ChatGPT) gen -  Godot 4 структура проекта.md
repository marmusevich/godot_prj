---
title: "Godot 4 —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞"
source: "https://chatgpt.com/c/6971ce3a-b98c-8327-b247-185b1e63576c"
author:
  - "[[ChatGPT]]"
published:
created: 2026-01-22
description: "ChatGPT ‚Äî –≤–∞—à —á–∞—Ç-–±–æ—Ç —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –û–±—â–∞–π—Ç–µ—Å—å —Å —Å–∞–º—ã–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º, —á—Ç–æ–±—ã –∏–∑—É—á–∞—Ç—å –∏–¥–µ–∏, —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∏ —É—á–∏—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ."
tags:
  - "clippings"
---
–≥–æ–¥–æ—Ç 4 —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

---

–í **Godot 4** —Å—Ç—Ä–æ–≥–æ–π ¬´–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π¬ª —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ—Ç, –Ω–æ –µ—Å—Ç—å **–¥–µ-—Ñ–∞–∫—Ç–æ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**, –∫–æ—Ç–æ—Ä—ã–µ —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—â–∞—é—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞–±–æ—Ç—É –≤ –∫–æ–º–∞–Ω–¥–µ. –ù–∏–∂–µ ‚Äî **—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** + –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, *–ø–æ—á–µ–º—É —Ç–∞–∫ –ª—É—á—à–µ*.

---

## üîπ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Best Practice)

```markdown
textres://
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ sprites/
‚îÇ   ‚îú‚îÄ‚îÄ textures/
‚îÇ   ‚îú‚îÄ‚îÄ fonts/
‚îÇ   ‚îú‚îÄ‚îÄ audio/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ music/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sfx/
‚îÇ   ‚îî‚îÄ‚îÄ shaders/
‚îÇ
‚îú‚îÄ‚îÄ scenes/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tscn
‚îÇ   ‚îú‚îÄ‚îÄ player/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ player.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ player.gd
‚îÇ   ‚îú‚îÄ‚îÄ enemies/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enemy_base.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ enemy_base.gd
‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ       ‚îú‚îÄ‚îÄ hud.tscn
‚îÇ       ‚îî‚îÄ‚îÄ hud.gd
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ systems/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ save_system.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ input_system.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ audio_system.gd
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ math_utils.gd
‚îÇ   ‚îî‚îÄ‚îÄ globals/
‚îÇ       ‚îî‚îÄ‚îÄ game_state.gd
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ items/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ items.tres
‚îÇ   ‚îú‚îÄ‚îÄ enemies/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ enemies.tres
‚îÇ   ‚îî‚îÄ‚îÄ levels/
‚îÇ
‚îú‚îÄ‚îÄ autoload/
‚îÇ   ‚îú‚îÄ‚îÄ Game.gd
‚îÇ   ‚îú‚îÄ‚îÄ Save.gd
‚îÇ   ‚îî‚îÄ‚îÄ Audio.gd
‚îÇ
‚îú‚îÄ‚îÄ addons/
‚îÇ   ‚îî‚îÄ‚îÄ (–ø–ª–∞–≥–∏–Ω—ã)
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ
‚îî‚îÄ‚îÄ project.godot
```

---

## üîπ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### 1Ô∏è‚É£ –°—Ü–µ–Ω–∞ = –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞

–û—á–µ–Ω—å –≤–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:

‚úîÔ∏è –í—Å—ë, —á—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ–±—ä–µ–∫—Ç—É ‚Äî —Ä—è–¥–æ–º  
‚úîÔ∏è –õ–µ–≥–∫–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å  
‚úîÔ∏è –û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Git

---

### 2Ô∏è‚É£ Assets –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –ª–æ–≥–∏–∫–∏

‚ùå –ü–ª–æ—Ö–æ:

‚úÖ –•–æ—Ä–æ—à–æ:

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –µ—Å–ª–∏ –∞—Å—Å–µ—Ç—ã **—Å—Ç—Ä–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã** –¥–ª—è —Å—Ü–µ–Ω—ã.

---

### 3Ô∏è‚É£ Autoload (Singletons) ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ

–ü–∞–ø–∫–∞:

–¢–∏–ø–∏—á–Ω—ã–µ –∞–≤—Ç–æ–ª–æ–∞–¥—ã:

- `Game.gd` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
- `Save.gd` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `Audio.gd` ‚Äî –∑–≤—É–∫
- `Events.gd` ‚Äî Event Bus (signals)

‚ö†Ô∏è –ù–µ –ø—Ä–µ–≤—Ä–∞—â–∞–π autoload –≤ ¬´–≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–æ–º–æ–π–∫—É¬ª.

---

### 4Ô∏è‚É£ Scripts vs Scenes

–ï—Å—Ç—å –¥–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:

#### üîπ A) –°–∫—Ä–∏–ø—Ç—ã —Ä—è–¥–æ–º —Å–æ —Å—Ü–µ–Ω–∞–º–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### üîπ B) –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ scripts/

–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:

- —Å–∏—Å—Ç–µ–º
- –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- —É—Ç–∏–ª–∏—Ç
- data-oriented –ª–æ–≥–∏–∫–∏

---

### 5Ô∏è‚É£ Data-driven –ø–æ–¥—Ö–æ–¥

–ò—Å–ø–æ–ª—å–∑—É–π:

- `.tres`
- `.res`
- `Resource` -–∫–ª–∞—Å—Å—ã

‚úîÔ∏è –ú–µ–Ω—å—à–µ —Ö–∞—Ä–¥–∫–æ–¥–∞  
‚úîÔ∏è –£–¥–æ–±–Ω–æ –±–∞–ª–∞–Ω—Å–∏—Ç—å

---

## üîπ UI –æ—Ç–¥–µ–ª—å–Ω–æ

‚úîÔ∏è UI —Å—Ü–µ–Ω—ã –ª–µ–≥–∫–æ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è  
‚úîÔ∏è –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ç–µ–º—É –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –≥–µ–π–º–ø–ª–µ–π

---

## üîπ Naming conventions (Godot 4)

| –¢–∏–ø | –°—Ç–∏–ª—å |
| --- | --- |
| –ü–∞–ø–∫–∏ | `snake_case` |
| –°—Ü–µ–Ω—ã | `PascalCase.tscn` |
| –°–∫—Ä–∏–ø—Ç—ã | `snake_case.gd` |
| –ö–ª–∞—Å—Å—ã | `class_name PascalCase` |
| Nodes | `PascalCase` |
| Signals | `snake_case` |

---

## üîπ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

---

## üîπ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ ‚ùå

- –í—Å—ë –≤ `res://` –±–µ–∑ –ø–∞–ø–æ–∫
- –û–¥–∏–Ω autoload –Ω–∞ –≤—Å—ë
- –°–∫—Ä–∏–ø—Ç—ã –±–µ–∑ `class_name`
- –•–∞—Ä–¥–∫–æ–¥ –≤–º–µ—Å—Ç–æ `Resource`
- –î—É–±–ª–∏ –∞—Å—Å–µ—Ç–æ–≤ –º–µ–∂–¥—É —Å—Ü–µ–Ω–∞–º–∏

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É:

- üì¶ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É **–ø–æ–¥ —Ç–≤–æ–π –∂–∞–Ω—Ä** (2D, 3D, RPG, FPS, mobile)
- üß© –ø–æ–∫–∞–∑–∞—Ç—å **—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è ECS / modular gameplay**
- üîß —Ä–∞–∑–æ–±—Ä–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π Godot-–ø—Ä–æ–µ–∫—Ç –∏ —É–ª—É—á—à–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É**

–ü—Ä–æ—Å—Ç–æ —Å–∫–∞–∂–∏, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–ª–∞–µ—à—å –≤ Godot 4.

---

–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ –∏–≥—Ä—ã, –∏–ª–∏ –º–∏–Ω–∏–∏–≥—Ä

---

–î–ª—è **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–∂–∏–º–æ–≤ –∏–≥—Ä—ã / –º–∏–Ω–∏-–∏–≥—Ä** –≤ **Godot 4** –ª—É—á—à–µ –≤—Å–µ–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç **–º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –∫–∞–∂–¥—ã–π —Ä–µ–∂–∏–º ‚Äî –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π ¬´–ø–æ–¥-–ø—Ä–æ–µ–∫—Ç¬ª –≤–Ω—É—Ç—Ä–∏ –æ–±—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–æ —Å –æ–±—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.

–ù–∏–∂–µ ‚Äî **–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞**, –∫–æ—Ç–æ—Ä—É—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

---

## üîπ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Multi-Game / Mini-Games)

```markdown
textres://
‚îú‚îÄ‚îÄ core/                 # –û–±—â–µ–µ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ game_manager.gd
‚îÇ   ‚îú‚îÄ‚îÄ scene_loader.gd
‚îÇ   ‚îú‚îÄ‚îÄ save_system.gd
‚îÇ   ‚îú‚îÄ‚îÄ audio_system.gd
‚îÇ   ‚îî‚îÄ‚îÄ input_router.gd
‚îÇ
‚îú‚îÄ‚îÄ modes/                # –í–°–ï —Ä–µ–∂–∏–º—ã –∏ –º–∏–Ω–∏-–∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ main_menu/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainMenu.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main_menu.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ campaign/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CampaignRoot.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ campaign.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ levels/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ player/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ enemies/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ arena/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ArenaRoot.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ arena.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ enemies/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ minigames/
‚îÇ       ‚îú‚îÄ‚îÄ pong/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ PongRoot.tscn
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ pong.gd
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ runner/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ RunnerRoot.tscn
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ runner.gd
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ fishing/
‚îÇ           ‚îú‚îÄ‚îÄ FishingRoot.tscn
‚îÇ           ‚îî‚îÄ‚îÄ fishing.gd
‚îÇ
‚îú‚îÄ‚îÄ shared/               # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ü–µ–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ player/
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îú‚îÄ‚îÄ enemies/
‚îÇ   ‚îî‚îÄ‚îÄ effects/
‚îÇ
‚îú‚îÄ‚îÄ assets/               # –û–±—â–∏–µ –∞—Å—Å–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ audio/
‚îÇ   ‚îú‚îÄ‚îÄ fonts/
‚îÇ   ‚îî‚îÄ‚îÄ shaders/
‚îÇ
‚îú‚îÄ‚îÄ data/                 # –î–∞–Ω–Ω—ã–µ (Resources)
‚îÇ   ‚îú‚îÄ‚îÄ items/
‚îÇ   ‚îú‚îÄ‚îÄ modes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ campaign.tres
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ arena.tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pong.tres
‚îÇ   ‚îî‚îÄ‚îÄ settings.tres
‚îÇ
‚îú‚îÄ‚îÄ autoload/
‚îÇ   ‚îú‚îÄ‚îÄ Game.gd
‚îÇ   ‚îú‚îÄ‚îÄ Events.gd
‚îÇ   ‚îî‚îÄ‚îÄ Save.gd
‚îÇ
‚îî‚îÄ‚îÄ project.godot
```

---

## üîπ –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è

### ‚úÖ –û–¥–∏–Ω —Ä–µ–∂–∏–º = –æ–¥–Ω–∞ –∫–æ—Ä–Ω–µ–≤–∞—è —Å—Ü–µ–Ω–∞

–£ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞ –µ—Å—Ç—å **Root-—Å—Ü–µ–Ω–∞**:

–ò–≥—Ä–∞ **–≤—Å–µ–≥–¥–∞** –∑–∞–≥—Ä—É–∂–∞–µ—Ç **–æ–¥–Ω—É** —Ç–∞–∫—É—é —Å—Ü–µ–Ω—É –∑–∞ —Ä–∞–∑.

---

## üîπ GameManager (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

---

## üîπ –ò–∑–æ–ª—è—Ü–∏—è —Ä–µ–∂–∏–º–æ–≤ (–æ—á–µ–Ω—å –≤–∞–∂–Ω–æ)

**–†–µ–∂–∏–º –ù–ï –¥–æ–ª–∂–µ–Ω:**

- –∑–Ω–∞—Ç—å –æ –¥—Ä—É–≥–∏—Ö —Ä–µ–∂–∏–º–∞—Ö
- –æ–±—Ä–∞—â–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ —á—É–∂–∏–º —Å—Ü–µ–Ω–∞–º
- —Ö—Ä–∞–Ω–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–†–µ–∂–∏–º –ú–û–ñ–ï–¢:**

- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `core`
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `shared`
- —Å–ª–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã —á–µ—Ä–µ–∑ `Events`

---

## üîπ –û–±—â–∏–π UI –ø–æ–≤–µ—Ä—Ö —Ä–µ–∂–∏–º–æ–≤

‚úîÔ∏è HUD –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç—Å—è  
‚úîÔ∏è –ü–∞—É–∑–∞ –∏ –º–µ–Ω—é —Ä–∞–±–æ—Ç–∞—é—Ç –≤–µ–∑–¥–µ

---

## üîπ Mini-games –∫–∞–∫ –ø–ª–∞–≥–∏–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –º–∏–Ω–∏-–∏–≥—Ä—ã **–æ—á–µ–Ω—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã**:

‚úîÔ∏è –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å / –≤—ã–∫–ª—é—á–∞—Ç—å  
‚úîÔ∏è –ú–æ–∂–Ω–æ —à–∞—Ä–∏—Ç—å –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏

---

## üîπ Data-driven —Å–ø–∏—Å–æ–∫ —Ä–µ–∂–∏–º–æ–≤

–ú–µ–Ω—é:

---

## üîπ –ö–æ–≥–¥–∞ –ù–£–ñ–ù–û —Ä–∞–∑–¥–µ–ª—è—Ç—å —Ä–µ–∂–∏–º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é

–ï—Å–ª–∏:

- —Ä–∞–∑–Ω—ã–µ –∫–∞–º–µ—Ä—ã (2D vs 3D)
- —Ä–∞–∑–Ω—ã–µ input-—Å—Ö–µ–º—ã
- —Ä–∞–∑–Ω—ã–µ save-—Ñ–æ—Ä–º–∞—Ç—ã
- —Ä–∞–∑–Ω—ã–µ —Ñ–∏–∑–∏–∫–∏

üëâ —Ç–æ–≥–¥–∞ **—Ä–µ–∂–∏–º = –º–∏–Ω–∏-–ø—Ä–æ–µ–∫—Ç** –≤–Ω—É—Ç—Ä–∏ `modes/`.

---

## üîπ –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ ‚ùå

- –û–¥–∏–Ω `Main.tscn` –Ω–∞ –≤—Å—ë
- –ñ—ë—Å—Ç–∫–∏–µ –ø—É—Ç–∏ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
- –õ–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–∞ –≤ autoload
- –î—É–±–ª–∏ HUD –≤ –∫–∞–∂–¥–æ–π –º–∏–Ω–∏-–∏–≥—Ä–µ

---

## üîπ –ö–æ—Ä–æ—Ç–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ

> **–†–µ–∂–∏–º = –º–æ–¥—É–ª—å**  
> **–û–±—â–µ–µ = core/shared**  
> **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ = GameManager**

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –¥–∞–ª—å—à–µ –º–æ–≥—É:

- –ø–æ–∫–∞–∑–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä MainMenu ‚Üí Mode ‚Üí Back**
- —Ä–∞–∑–æ–±—Ä–∞—Ç—å **save system –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–∂–∏–º–æ–≤**
- –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É **–µ—Å–ª–∏ –º–∏–Ω–∏-–∏–≥—Ä—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä—ã**
- –ø–æ–∫–∞–∑–∞—Ç—å **–∫–∞–∫ –≥—Ä—É–∑–∏—Ç—å —Ä–µ–∂–∏–º—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ**

–°–∫–∞–∂–∏, —É —Ç–µ–±—è —ç—Ç–æ:  
üëâ –Ω–∞–±–æ—Ä –º–∏–Ω–∏-–∏–≥—Ä  
üëâ –æ—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–∞ + –º–∏–Ω–∏-–∏–≥—Ä—ã  
üëâ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∂–∏–º—ã –æ–¥–Ω–æ–≥–æ –≥–µ–π–º–ø–ª–µ—è

---

–∏–≥—Ä–∞ —Ç–∏–ø–∞ —É—Ñ–æ, –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞, + –º–∏—Å–∏–∏, + –∏—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ/—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ/—Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ —é–Ω–∏—Ç–æ–≤

---

–û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä üëç  
–î–ª—è **X-COM / UFO-like** –∏–≥—Ä—ã –≤ **Godot 4** –∫–ª—é—á–µ–≤–æ–µ ‚Äî **–∂—ë—Å—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å–ª–æ–∏ –∏–≥—Ä—ã**: –≥–µ–æ—Å–∫–æ–ø ‚Üí –±–∞–∑–∞ ‚Üí –º–∏—Å—Å–∏—è ‚Üí –º–µ—Ç–∞-—Å–∏—Å—Ç–µ–º—ã. –ù–∏–∂–µ ‚Äî **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**, –∫–æ—Ç–æ—Ä–∞—è —Ö–æ—Ä–æ—à–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∫–∞—à—É.

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ X-COM-like (Godot 4)

## üîπ –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è

> **–û–¥–Ω–∞ –∏–≥—Ä–∞ ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äú—Ä–µ–∂–∏–º–æ–≤‚Äù, –Ω–æ –æ–¥–Ω–æ –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–∏—Ä–∞**

–†–µ–∂–∏–º—ã:

1. üåç **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ (Geoscape)**
2. üèó **–ë–∞–∑–∞ (—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è)**
3. ‚öî **–¢–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –º–∏—Å—Å–∏—è**
4. üßëüéì **–≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞ –∏ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç —é–Ω–∏—Ç–æ–≤**

---

## üóÇ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```markdown
textres://
‚îú‚îÄ‚îÄ core/                      # –î–≤–∏–∂–æ–∫ –∏–≥—Ä—ã (–ù–ï –≥–µ–π–º–ø–ª–µ–π)
‚îÇ   ‚îú‚îÄ‚îÄ game_root.tscn
‚îÇ   ‚îú‚îÄ‚îÄ game_manager.gd
‚îÇ   ‚îú‚îÄ‚îÄ scene_router.gd
‚îÇ   ‚îú‚îÄ‚îÄ time_system.gd
‚îÇ   ‚îú‚îÄ‚îÄ save_system.gd
‚îÇ   ‚îî‚îÄ‚îÄ event_bus.gd
‚îÇ
‚îú‚îÄ‚îÄ meta/                      # –ì–õ–û–ë–ê–õ–¨–ù–û–ï —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ game_state.gd
‚îÇ   ‚îú‚îÄ‚îÄ world_state.gd
‚îÇ   ‚îú‚îÄ‚îÄ faction_state.gd
‚îÇ   ‚îî‚îÄ‚îÄ economy_state.gd
‚îÇ
‚îú‚îÄ‚îÄ modes/
‚îÇ   ‚îú‚îÄ‚îÄ geoscape/              # üåç –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeoscapeRoot.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geoscape.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ map/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ufo/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ interceptions/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ base/                  # üèó –ë–∞–∑–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseRoot.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ facilities/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ research/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manufacturing/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ mission/               # ‚öî –¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –º–∏—Å—Å–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MissionRoot.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mission.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ map_gen/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ units/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ combat/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ loadout/               # üßë‚Äçüéì –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ LoadoutRoot.tscn
‚îÇ       ‚îú‚îÄ‚îÄ loadout.gd
‚îÇ       ‚îî‚îÄ‚îÄ ui/
‚îÇ
‚îú‚îÄ‚îÄ shared/                    # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
‚îÇ   ‚îú‚îÄ‚îÄ units/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Unit.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ unit.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ stats.gd
‚îÇ   ‚îú‚îÄ‚îÄ items/
‚îÇ   ‚îú‚îÄ‚îÄ weapons/
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îî‚îÄ‚îÄ effects/
‚îÇ
‚îú‚îÄ‚îÄ data/                      # Data-driven –∫–æ–Ω—Ç–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ units/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ soldier.tres
‚îÇ   ‚îú‚îÄ‚îÄ weapons/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rifle.tres
‚îÇ   ‚îú‚îÄ‚îÄ facilities/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lab.tres
‚îÇ   ‚îú‚îÄ‚îÄ research/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plasma_weapons.tres
‚îÇ   ‚îî‚îÄ‚îÄ missions/
‚îÇ       ‚îî‚îÄ‚îÄ terror_site.tres
‚îÇ
‚îú‚îÄ‚îÄ autoload/
‚îÇ   ‚îú‚îÄ‚îÄ Game.gd
‚îÇ   ‚îú‚îÄ‚îÄ Meta.gd                # –¥–æ—Å—Ç—É–ø –∫ meta/*
‚îÇ   ‚îú‚îÄ‚îÄ Events.gd
‚îÇ   ‚îî‚îÄ‚îÄ Save.gd
‚îÇ
‚îî‚îÄ‚îÄ project.godot
```

---

## üß© –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ

### üåç Geoscape

- –£–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–µ–º
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è (–ù–õ–û, –º–∏—Å—Å–∏–∏)
- **–ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã—Ö –±–∞–∑—ã –∏–ª–∏ —é–Ω–∏—Ç–æ–≤**

---

### üèó Base

- –†–∞–±–æ—Ç–∞–µ—Ç —Å:
	- –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è–º–∏
	- –ø–æ—Å—Ç—Ä–æ–π–∫–∞–º–∏
	- –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º
- –ò–∑–º–µ–Ω—è–µ—Ç `meta/world_state`

---

### üßëüéì Loadout

- –†–∞–±–æ—Ç–∞–µ—Ç **–¢–û–õ–¨–ö–û —Å data –∏ meta**
- –ù–µ –∑–Ω–∞–µ—Ç –æ –º–∏—Å—Å–∏—è—Ö –∏–ª–∏ –≥–µ–æ—Å–∫–æ–ø–µ

---

### ‚öî Mission

- –ü–æ–ª—É—á–∞–µ—Ç **snapshot** —Å–æ—Å—Ç–æ—è–Ω–∏—è:
	- —é–Ω–∏—Ç—ã
	- —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞
	- –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∏—Å—Å–∏–∏

–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏:

---

## üß† Meta-layer (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)

‚ö†Ô∏è **Mission –ù–ï –¥–æ–ª–∂–Ω–∞ –ø–∏—Å–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ GameState**  
‚Üí —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

## üì¶ Data-driven –í–°–Å

### –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

### –ó–¥–∞–Ω–∏–µ

---

## üîÅ –ü–æ—Ç–æ–∫ –∏–≥—Ä—ã (Flow)

---

## ‚ùå –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

- –•—Ä–∞–Ω–∏—Ç—å —é–Ω–∏—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å—Ü–µ–Ω—ã –º–∏—Å—Å–∏–∏
- –î–∞–≤–∞—Ç—å –º–∏—Å—Å–∏–∏ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ
- –î–µ–ª–∞—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–æ–π, –∞ –Ω–µ –¥–∞–Ω–Ω—ã–º–∏
- –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—ã –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏

---

## üîë –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

> **–†–µ–∂–∏–º—ã = –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è + –≤–≤–æ–¥**  
> **Meta = –∏—Å—Ç–∏–Ω–∞**  
> **Data = –∫–æ–Ω—Ç–µ–Ω—Ç**

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –º–æ–≥—É:

- üìÑ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å **UML / dependency —Å—Ö–µ–º—É**
- üß¨ –ø–æ–∫–∞–∑–∞—Ç—å **–ø—Ä–∏–º–µ—Ä GameState + MissionContext**
- üíæ —Ä–∞–∑–æ–±—Ä–∞—Ç—å **save/load –¥–ª—è X-COM-like**
- üß† –ø–æ–º–æ—á—å —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å **–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–∞–∫ –≥—Ä–∞—Ñ**

–°–∫–∞–∂–∏, —á—Ç–æ –¥–∞–ª—å—à–µ –≤–∞–∂–Ω–µ–µ: **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**, **–¥–∞–Ω–Ω—ã–µ**, –∏–ª–∏ **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥**.

---

–≤–∞–∂–Ω–µ–µ: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –¥–∞–Ω–Ω—ã–µ

---

–û—Ç–ª–∏—á–Ω–æ ‚Äî —Ç–æ–≥–¥–∞ –¥–∞–≤–∞–π **–ø–æ-–≤–∑—Ä–æ—Å–ª–æ–º—É**:  
–Ω–∏–∂–µ ‚Äî **—á—ë—Ç–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –º–æ–¥–µ–ª—å + —Å—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö**, –∏–º–µ–Ω–Ω–æ –ø–æ–¥ **X-COM / UFO-like**. –ë–µ–∑ Godot-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –º—É—Å–æ—Ä–∞, –Ω–æ —Ç–∞–∫, —á—Ç–æ–±—ã **–∏–¥–µ–∞–ª—å–Ω–æ –ª–µ–≥–ª–æ –Ω–∞ Godot 4**.

---

## üß† 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—Å–ª–æ–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

## üîπ 4 —Å–ª–æ—è (–∂—ë—Å—Ç–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ)

### ‚ùó –ö—Ä–∏—Ç–∏—á–Ω–æ

- –í–µ—Ä—Ö–Ω–∏–π —Å–ª–æ–π **–º–æ–∂–µ—Ç –∑–Ω–∞—Ç—å** –æ –Ω–∏–∂–Ω–µ–º
- –ù–∏–∂–Ω–∏–π **–ù–ï –∑–Ω–∞–µ—Ç** –æ –≤–µ—Ä—Ö–Ω–µ–º
- Data **–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫–∏**

---

## üîπ –ß—Ç–æ –≥–¥–µ –∂–∏–≤—ë—Ç

| –°–ª–æ–π | –ß—Ç–æ –≤ –Ω—ë–º |
| --- | --- |
| Presentation | —Å—Ü–µ–Ω—ã, UI, –∞–Ω–∏–º–∞—Ü–∏–∏ |
| Gameplay | geoscape, base, mission |
| Meta | —é–Ω–∏—Ç—ã, –±–∞–∑—ã, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è |
| Data | weapons.tres, research.tres |

---

## üß¨ 2. Meta-State ‚Äî ¬´—Å–µ—Ä–¥—Ü–µ¬ª –∏–≥—Ä—ã

## üîπ Meta ‚Äî –ù–ï —Å—Ü–µ–Ω—ã, –ù–ï Nodes

---

## üîπ –ü—Ä–∏–º–µ—Ä SoldierState

‚ö†Ô∏è **–Ω–∏–∫–∞–∫–∏—Ö Nodes, PackedScene, NodePath**

---

## üîπ –ü–æ—á–µ–º—É —Ç–∞–∫

- –ª–µ–≥–∫–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å
- –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- –º–æ–∂–Ω–æ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ Godot

---

## ‚öî 3. Mission = –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è

## üîπ MissionContext (snapshot)

### UnitSnapshot

üìå **–∫–æ–ø–∏—è**, –Ω–µ —Å—Å—ã–ª–∫–∞ –Ω–∞ Meta.

---

## üîπ MissionResult

Meta –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

---

## üß± 4. Base / Research / Build ‚Äî —á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞

## üîπ FacilityState

---

## üîπ ResearchState

---

## üîπ Research –ù–ï ¬´—Ç–∏–∫–∞–µ—Ç¬ª –≤ —Å—Ü–µ–Ω–µ

---

## üì¶ 5. Data-Driven –º–æ–¥–µ–ª—å (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)

## üîπ WeaponData

---

## üîπ ResearchData

---

## üîπ FacilityData

---

## üîÅ 6. –°–≤—è–∑—å Data ‚Üî Meta

| Data | Meta |
| --- | --- |
| WeaponData | inventory count |
| ResearchData | ResearchState |
| FacilityData | FacilityState |

üëâ **Data = ‚Äú—á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å‚Äù**  
üëâ **Meta = ‚Äú—á—Ç–æ –µ—Å—Ç—å —Å–µ–π—á–∞—Å‚Äù**

---

## üîÑ 7. –ü–æ—Ç–æ–∫–∏ (Flow)

## üåç Geoscape tick

---

## ‚öî Mission start

---

## ‚öî Mission end

---

## üö´ 8. –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ –≤–µ—â–∏

‚ùå Node –≤ Meta  
‚ùå PackedScene –≤ Data  
‚ùå Mission –º–µ–Ω—è–µ—Ç GameState –Ω–∞–ø—Ä—è–º—É—é  
‚ùå Data —Å –ª–æ–≥–∏–∫–æ–π

---

## üîë 9. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç

> **Meta ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã**  
> **–ú–∏—Å—Å–∏—è ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è**  
> **Data ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –º–∏—Ä–∞**

---

## üß† –ß—Ç–æ –¥–∞–ª—å—à–µ (–ª–æ–≥–∏—á–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)

–ú–æ–≥—É:  
1Ô∏è‚É£ –ø–æ–∫–∞–∑–∞—Ç—å **–ø–æ–ª–Ω—É—é —Å—Ö–µ–º—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (UML)**  
2Ô∏è‚É£ —Ä–∞–∑–æ–±—Ä–∞—Ç—å **research tree (DAG) + –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏**  
3Ô∏è‚É£ –ø–æ–∫–∞–∑–∞—Ç—å **save/load –±–µ–∑ –±–æ–ª–∏**  
4Ô∏è‚É£ —Ä–∞–∑–æ–±—Ä–∞—Ç—å **—é–Ω–∏—Ç—ã –∫–∞–∫ composition (–Ω–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)**  
5Ô∏è‚É£ –¥–∞—Ç—å **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π skeleton –ø—Ä–æ–µ–∫—Ç–∞ (–≥–æ—Ç–æ–≤—ã–π)**

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä ‚Äî –ø–æ–π–¥—ë–º –≥–ª—É–±–∂–µ.

---

5

---

–û—Ç–ª–∏—á–Ω–æ. –ù–∏–∂–µ ‚Äî **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π skeleton –ø—Ä–æ–µ–∫—Ç–∞** –ø–æ–¥ **X-COM / UFO-like** –≤ **Godot 4**, —É–∂–µ –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–π –ø–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **Meta / Data / Gameplay**.  
–≠—Ç–æ **—Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞**, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞—Å—Ç–∏ –≥–æ–¥–∞–º–∏.

---

## üß± 0. –ß—Ç–æ —ç—Ç–æ –∑–∞ skeleton

‚úîÔ∏è –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π  
‚úîÔ∏è –±–µ–∑ ¬´–±–æ–≥–∞-autoload‚Äô–∞¬ª  
‚úîÔ∏è –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É:

- –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–µ–∂–∏–º—ã
- –∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏—Å—Å–∏–∏
- —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç —á–µ—Ä–µ–∑ `.tres`

---

## üìÅ 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–º–∏–Ω–∏–º—É–º)

```markdown
textres://
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ GameRoot.tscn
‚îÇ   ‚îú‚îÄ‚îÄ game_manager.gd
‚îÇ   ‚îú‚îÄ‚îÄ scene_router.gd
‚îÇ   ‚îî‚îÄ‚îÄ time_system.gd
‚îÇ
‚îú‚îÄ‚îÄ meta/
‚îÇ   ‚îú‚îÄ‚îÄ game_state.gd
‚îÇ   ‚îú‚îÄ‚îÄ soldier_state.gd
‚îÇ   ‚îú‚îÄ‚îÄ base_state.gd
‚îÇ   ‚îú‚îÄ‚îÄ research_state.gd
‚îÇ   ‚îú‚îÄ‚îÄ mission_context.gd
‚îÇ   ‚îî‚îÄ‚îÄ mission_result.gd
‚îÇ
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ units/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ soldier.tres
‚îÇ   ‚îú‚îÄ‚îÄ weapons/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rifle.tres
‚îÇ   ‚îú‚îÄ‚îÄ research/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ laser_weapons.tres
‚îÇ   ‚îî‚îÄ‚îÄ missions/
‚îÇ       ‚îî‚îÄ‚îÄ crash_site.tres
‚îÇ
‚îú‚îÄ‚îÄ modes/
‚îÇ   ‚îú‚îÄ‚îÄ geoscape/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GeoscapeRoot.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ geoscape.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseRoot.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ mission/
‚îÇ       ‚îú‚îÄ‚îÄ MissionRoot.tscn
‚îÇ       ‚îî‚îÄ‚îÄ mission.gd
‚îÇ
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îî‚îÄ‚îÄ units/
‚îÇ       ‚îú‚îÄ‚îÄ Unit.tscn
‚îÇ       ‚îî‚îÄ‚îÄ unit_view.gd
‚îÇ
‚îú‚îÄ‚îÄ autoload/
‚îÇ   ‚îú‚îÄ‚îÄ Game.gd
‚îÇ   ‚îú‚îÄ‚îÄ Meta.gd
‚îÇ   ‚îî‚îÄ‚îÄ Events.gd
‚îÇ
‚îî‚îÄ‚îÄ project.godot
```

---

## üß† 2. Autoload (–º–∏–Ω–∏–º—É–º)

## autoload/Game.gd

## autoload/Meta.gd

## autoload/Events.gd

---

## üéÆ 3. GameRoot (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å—Ü–µ–Ω–∞)

## core/GameRoot.tscn

---

## core/game\_manager.gd

---

## üåç 4. Geoscape (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)

## modes/geoscape/geoscape.gd

---

## ‚öî 5. Mission flow (–∫–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å)

## meta/mission\_context.gd

---

## meta/mission\_result.gd

---

## modes/mission/mission.gd

---

## üß¨ 6. Meta-State (–∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã)

## meta/game\_state.gd

---

## üì¶ 7. Data (–ø—Ä–∏–º–µ—Ä)

## data/weapons/rifle.gd

`.tres`:

---

## üß© 8. Unit = View, –Ω–µ State

## shared/units/unit\_view.gd

‚ö†Ô∏è **UnitView –Ω–µ —Ö—Ä–∞–Ω–∏—Ç ‚Äú–∏—Å—Ç–∏–Ω—É‚Äù**, —Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç.

---

## üîÑ 9. –°–∫–ª–µ–π–∫–∞ —Ä–µ–∂–∏–º–æ–≤

---

## üîë 10. –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã skeleton‚Äô–∞ (–≤–∞–∂–Ω–æ)

‚úîÔ∏è Meta –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—Ü–µ–Ω–∞—Ö  
‚úîÔ∏è Data –Ω–µ –∑–Ω–∞–µ—Ç –æ Meta  
‚úîÔ∏è Mission —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–ø–∏–µ–π  
‚úîÔ∏è –†–µ–∂–∏–º—ã –º–æ–∂–Ω–æ –≤—ã–∫–∏–Ω—É—Ç—å –±–µ–∑ –±–æ–ª–∏  
‚úîÔ∏è Save = —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è Meta

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏—á–Ω—ã–µ —à–∞–≥–∏

–ï—Å–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å **–ø—Ä–∞–≤–∏–ª—å–Ω–æ**, –¥–∞–ª—å—à–µ –æ–±—ã—á–Ω–æ –∏–¥—É—Ç:

1Ô∏è‚É£ **Save / Load Meta (JSON / binary)**  
2Ô∏è‚É£ **Research tree –∫–∞–∫ DAG**  
3Ô∏è‚É£ **–Æ–Ω–∏—Ç—ã —á–µ—Ä–µ–∑ composition (stats, perks, wounds)**  
4Ô∏è‚É£ **Turn-based core (AP, initiative)**  
5Ô∏è‚É£ **Map generator –¥–ª—è –º–∏—Å—Å–∏–π**

–°–∫–∞–∂–∏, —á—Ç–æ –¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–º ‚Äî **2 –∏–ª–∏ 3** –ª—É—á—à–µ –≤—Å–µ–≥–æ –ª–æ–∂–∞—Ç—Å—è –Ω–∞ —ç—Ç–æ—Ç skeleton.

---

2

---

–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä. **Research Tree (DAG)** ‚Äî –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –¥–ª—è X-COM-like. –ù–∏–∂–µ ‚Äî **—á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ + —Ä–∞–±–æ—á–∞—è –º–æ–¥–µ–ª—å**, –±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞ –∏ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—Ü–µ–Ω–∞–º.

---

## üß† –¶–µ–ª—å —Å–∏—Å—Ç–µ–º—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π

‚úîÔ∏è –≥—Ä–∞—Ñ, –∞ –Ω–µ –¥–µ—Ä–µ–≤–æ  
‚úîÔ∏è data-driven  
‚úîÔ∏è –ª–µ–≥–∫–æ –±–∞–ª–∞–Ω—Å–∏—Ç—å  
‚úîÔ∏è –º–æ–∂–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç  
‚úîÔ∏è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ (—á–µ—Ä–µ–∑ –≤—Ä–µ–º—è)

---

## üß© 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (Data layer)

## üîπ ResearchData (Resource)

---

## üîπ –ü—Ä–∏–º–µ—Ä.tres

üìå **–ù–ò–ö–ê–ö–û–ô –ª–æ–≥–∏–∫–∏** –≤ `.tres`

---

## üß¨ 2. Meta-State (ResearchState)

---

## üß† 3. GameState: –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

---

## üîó 4. Research Graph (DAG)

## üîπ ResearchGraph ‚Äî –ù–ï autoload

---

## üîπ –ó–∞–≥—Ä—É–∑–∫–∞ –≥—Ä–∞—Ñ–∞

---

## üîπ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

---

## üîÑ 5. –ó–∞–ø—É—Å–∫ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

---

## ‚è± 6. –ü—Ä–æ–≥—Ä–µ—Å—Å –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (TimeSystem)

---

## üîì 7. Unlock system (—á–∏—Å—Ç–æ)

üìå **–ù–ò–ö–ê–ö–ò–• if laser\_weapons ‚Üí rifle**

---

## üß™ 8. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏–∫–ª–æ–≤ (–í–ê–ñ–ù–û)

DAG ‚â† ‚Äú–º—ã –Ω–∞–¥–µ–µ–º—Å—è, —á—Ç–æ –±–µ–∑ —Ü–∏–∫–ª–æ–≤‚Äù.

‚ö†Ô∏è –ó–∞–ø—É—Å–∫–∞—Ç—å **–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã**.

---

## üß© 9. UI –ø–æ–ª—É—á–∞–µ—Ç –¢–û–õ–¨–ö–û graph + state

UI **–Ω–µ —Ä–µ—à–∞–µ—Ç**, UI **—Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç**.

---

## üîë 10. –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

‚úîÔ∏è Research = DAG  
‚úîÔ∏è ResearchData –Ω–µ –∑–Ω–∞–µ—Ç –æ GameState  
‚úîÔ∏è GameState –Ω–µ –∑–Ω–∞–µ—Ç –æ UI  
‚úîÔ∏è Unlock = –¥–∞–Ω–Ω—ã–µ  
‚úîÔ∏è –ù–µ—Ç switch / if –ø–æ id

---

## ‚ùå –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

- –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–∞–∫ enum
- –ª–æ–≥–∏–∫–∞ –≤ `.tres`
- —Ö–∞—Ä–¥–∫–æ–¥ unlock‚Äô–æ–≤
- –º–∏—Å—Å–∏—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é
- UI —Ä–µ—à–∞–µ—Ç, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ

---

## üöÄ –ö—É–¥–∞ –ª–æ–≥–∏—á–Ω–æ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ

–õ—É—á—à–∏–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è **–ø–æ—Å–ª–µ research DAG**:

### üîπ 3Ô∏è‚É£ –Æ–Ω–∏—Ç—ã —á–µ—Ä–µ–∑ composition

(—Ä–∞–Ω—ã, –ø–µ—Ä–∫–∏, –±—Ä–æ–Ω—è, –º–æ—Ä–∞–ª—å)

### üîπ 1Ô∏è‚É£ Save/Load Meta

(–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### üîπ üß† Advanced:

- —Å–ª—É—á–∞–π–Ω—ã–µ –≤–µ—Ç–∫–∏
- –∞–ª–∏–µ–Ω-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∫–∞–∫ prereq
- –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (risk)

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä –∏–ª–∏ —Å–∫–∞–∂–∏ **‚Äúadvanced research‚Äù** ‚Äî —Ä–∞–∑–±–µ—Ä—ë–º –≥–ª—É–±–∂–µ (–ø—Ä—è–º–æ –∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º X-COM).

---

3

---

–û—Ç–ª–∏—á–Ω–æ. **–Æ–Ω–∏—Ç—ã —á–µ—Ä–µ–∑ composition** ‚Äî —ç—Ç–æ **–∫–ª—é—á–µ–≤–∞—è —Ç–æ—á–∫–∞**, –≥–¥–µ 90% X-COM-–∫–ª–æ–Ω–æ–≤ –ª–æ–º–∞—é—Ç—Å—è. –ù–∏–∂–µ ‚Äî **—Ä–∞–±–æ—á–∞—è –º–æ–¥–µ–ª—å**, –±–µ–∑ –Ω–∞—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–¥–∞, –∏–¥–µ–∞–ª—å–Ω–æ –ª–æ–∂–∏—Ç—Å—è –Ω–∞ –Ω–∞—à Meta/Data –ø–æ–¥—Ö–æ–¥.

---

## üß† –¶–µ–ª—å –º–æ–¥–µ–ª–∏ —é–Ω–∏—Ç–æ–≤

‚úîÔ∏è –Ω–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏–π `Soldier ‚Üí Sniper ‚Üí Psi`  
‚úîÔ∏è —é–Ω–∏—Ç = –Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
‚úîÔ∏è —Ä–∞–Ω—ã, –±—Ä–æ–Ω—è, –ø–µ—Ä–∫–∏, —ç—Ñ—Ñ–µ–∫—Ç—ã ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ  
‚úîÔ∏è –º–∏—Å—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å snapshot  
‚úîÔ∏è –ª–µ–≥–∫–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

---

## üß± 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üß¨ 2. SoldierState ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

üìå **SoldierState —Å–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç**.

---

## üîå 3. –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

---

## üìä 4. StatsComponent

---

## ‚ù§Ô∏è 5. Health / Wounds

## Health

## Wounds

---

## üéí 6. EquipmentComponent

üìå —Ç–æ–ª—å–∫–æ **ID**, –Ω–µ `Resource`.

---

## üß† 7. PerksComponent

---

## üò± 8. MoraleComponent

---

## üß© 9. –î–æ—Å—Ç—É–ø –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º (–±–µ–∑ –±–æ–ª–∏)

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

(–ú–æ–∂–Ω–æ –∏ —á–µ—Ä–µ–∑ `class_name` ‚Äî –∫–∞–∫ —É–¥–æ–±–Ω–µ–µ)

---

## ‚öî 10. Snapshot –¥–ª—è –º–∏—Å—Å–∏–∏

## UnitSnapshot

–°–æ–∑–¥–∞–Ω–∏–µ:

‚ö†Ô∏è –≥–ª—É–±–æ–∫–∞—è –∫–æ–ø–∏—è ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

---

## üîÑ 11. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –º–∏—Å—Å–∏–∏

---

## üì¶ 12. Data-driven —Å—Ç–∞—Ç—ã

## SoldierData

–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–ª–¥–∞—Ç–∞:

---

## üö´ 13. –ó–∞–ø—Ä–µ—â–µ–Ω–æ

‚ùå `class Sniper extends Soldier`  
‚ùå –ª–æ–≥–∏–∫–∞ –≤ UI  
‚ùå –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –º–∏—Å—Å–∏–∏ –∫ Meta  
‚ùå `Node` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

---

## üîë 14. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞

> **Unit = ID + –Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**  
> **–ú–∏—Å—Å–∏—è = —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–ø–∏–µ–π**  
> **Meta = –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**

---

## üß† –°–ª–µ–¥—É—é—â–∏–µ —Å–∏–ª—å–Ω—ã–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ composition —é–Ω–∏—Ç–æ–≤ –ª–æ–≥–∏—á–Ω–æ –¥–µ–ª–∞—Ç—å:

### üîπ 4Ô∏è‚É£ Turn-based combat core

(AP, initiative, overwatch)

### üîπ üîπ Status effects –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

(—è–¥, –ø–∞–Ω–∏–∫–∞, –±–∞—Ñ—ã)

### üîπ üîπ AI –∫–∞–∫ —á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞

(–±–µ–∑ —Å—Ü–µ–Ω—ã)

### üîπ üîπ Injury & recovery system

(–∑–∞–≤—è–∑–∞—Ç—å –Ω–∞ TimeSystem)

–°–∫–∞–∂–∏, —á—Ç–æ –¥–∞–ª—å—à–µ: **4**, **status effects**, –∏–ª–∏ **AI** ‚Äî –ø–æ–π–¥—ë–º –µ—â—ë –≥–ª—É–±–∂–µ.

---

4

---

–û—Ç–ª–∏—á–Ω–æ. **Turn-based combat core** ‚Äî —ç—Ç–æ ¬´—Ö—Ä–µ–±–µ—Ç¬ª —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –º–∏—Å—Å–∏–∏. –ù–∏–∂–µ ‚Äî **—á–∏—Å—Ç–∞—è, –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**, —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å –Ω–∞—à–µ–π **Meta / Snapshot / Composition** –º–æ–¥–µ–ª—å—é.

---

## üß† –¶–µ–ª–∏ Turn-Based Core

‚úîÔ∏è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π  
‚úîÔ∏è –±–µ–∑ –ª–æ–≥–∏–∫–∏ –≤ —Å—Ü–µ–Ω–∞—Ö  
‚úîÔ∏è –ª–µ–≥–∫–æ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å / —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å  
‚úîÔ∏è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç overwatch, —Ä–µ–∞–∫—Ü–∏—é, —ç—Ñ—Ñ–µ–∫—Ç—ã  
‚úîÔ∏è –æ—Ç–¥–µ–ª—ë–Ω –æ—Ç UI –∏ –∞–Ω–∏–º–∞—Ü–∏–π

---

## üß± 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞

---

## üß¨ 2. CombatState ‚Äî ¬´–º–∏–∫—Ä–æ-Meta¬ª –º–∏—Å—Å–∏–∏

üìå **CombatState –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—Ü–µ–Ω–∞—Ö**

---

## üîÅ 3. InitiativeSystem

---

## ‚ö° 4. AP System

---

## üîå 5. Action (Command pattern)

## BaseAction

---

## MoveAction

---

## ShootAction

---

## ‚è± 6. TurnSystem

---

## üëÅ 7. Overwatch (—Ä–µ–∞–∫—Ü–∏–∏)

## OverwatchComponent

## OverwatchAction

–†–µ–∞–∫—Ü–∏—è:

---

## üîÑ 8. ActionQueue (–¥–ª—è UI)

üìå UI —Ç–æ–ª—å–∫–æ **–¥–æ–±–∞–≤–ª—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è**

---

## üîë 9. –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã Turn System

‚úîÔ∏è CombatState = –∏—Å—Ç–∏–Ω–∞  
‚úîÔ∏è Action = –∞—Ç–æ–º–∞—Ä–Ω–æ  
‚úîÔ∏è UI –Ω–µ –º–µ–Ω—è–µ—Ç state  
‚úîÔ∏è –î–µ–π—Å—Ç–≤–∏—è –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å / –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å  
‚úîÔ∏è –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å replay / rollback

---

## üö´ 10. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå –ª–æ–≥–∏–∫–∞ –≤ –∞–Ω–∏–º–∞—Ü–∏—è—Ö  
‚ùå –ø—Ä—è–º–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ Node3D  
‚ùå –¥–µ–π—Å—Ç–≤–∏—è –±–µ–∑ AP –ø—Ä–æ–≤–µ—Ä–∫–∏  
‚ùå —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö–æ–¥–∞ –≤ UI

---

## üß† 11. –ö–∞–∫ —ç—Ç–æ —Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è —Å–æ —Å—Ü–µ–Ω–æ–π

---

## üß† –°–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏—á–Ω—ã–µ —à–∞–≥–∏

–¢–µ–ø–µ—Ä—å —Ç—ã –≤ **–æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ–π —Ç–æ—á–∫–µ**. –î–∞–ª—å—à–µ –æ–±—ã—á–Ω–æ –¥–µ–ª–∞—é—Ç:

### üîπ Status effects (—è–¥, –æ–≥–ª—É—à–µ–Ω–∏–µ, –ø–∞–Ω–∏–∫–∞)

‚Üí –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + tick

### üîπ AI planning (utility / GOAP)

‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Actions

### üîπ Fog of War / LOS

‚Üí —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è

### üîπ Save mid-mission

‚Üí —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è CombatState

–°–∫–∞–∂–∏, —á—Ç–æ –¥–∞–ª—å—à–µ: **status effects**, **AI**, –∏–ª–∏ **LOS / visibility** ‚Äî –ø–æ–π–¥—ë–º –µ—â—ë –≥–ª—É–±–∂–µ.

---

AI planning (utility / GOAP)

---

–û—Ç–ª–∏—á–Ω–æ. –î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º **AI planning —É—Ä–æ–≤–Ω—è X-COM**, –±–µ–∑ ¬´–º–∞–≥–∏–∏¬ª, **–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ**, –∏ —Ç–∞–∫, —á—Ç–æ–±—ã **–ª—é–±–æ–π AI –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ —Å—Ü–µ–Ω—ã**.

–Ø –ø–æ–∫–∞–∂—É **–≥–∏–±—Ä–∏–¥ Utility + GOAP**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- —á–∏—Å—Ç—ã–π GOAP –¥–æ—Ä–æ–≥–æ–π
- —á–∏—Å—Ç—ã–π Utility —Ç—É–ø–µ–µ—Ç –≤ —Å–ª–æ–∂–Ω—ã—Ö –±–æ—è—Ö  
	üëâ –≥–∏–±—Ä–∏–¥ ‚Äî –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AI —Å–ª–æ—è

---

## üîç 1. WorldQuery (AI –ù–ï —á–∏—Ç–∞–µ—Ç state –Ω–∞–ø—Ä—è–º—É—é)

üìå **–¢–æ–ª—å–∫–æ read-only**  
üìå –£–ø—Ä–æ—â–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìä 2. Utility Scoring (–≤—ã–±–æ—Ä —Ü–µ–ª–∏)

## UtilityAction (—á—Ç–æ –¥–µ–ª–∞—Ç—å)

---

## –ü—Ä–∏–º–µ—Ä: ShootEnemy

---

## –ü—Ä–∏–º–µ—Ä: Retreat

---

## –í—ã–±–æ—Ä Utility-–¥–µ–π—Å—Ç–≤–∏—è

üëâ **Utility –≤—ã–±–∏—Ä–∞–µ—Ç —Ü–µ–ª—å / –Ω–∞–º–µ—Ä–µ–Ω–∏–µ**

---

## üß† 3. GOAP ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–≥–æ–≤

Utility –≥–æ–≤–æ—Ä–∏—Ç **–ß–¢–û**, GOAP ‚Äî **–ö–ê–ö**.

---

## GOAPAction

---

## WorldState (–º–∏–Ω–∏–º—É–º)

---

## –ü—Ä–∏–º–µ—Ä GOAP: MoveToCover

---

## ShootEnemyGOAP

---

## üîÑ 4. Planner (A\*)

üìå goal –ø—Ä–∏—Ö–æ–¥–∏—Ç –æ—Ç Utility:

---

## üéØ 5. –°–≤—è–∑—å Utility ‚Üí GOAP

---

## ‚öî 6. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ GOAP ‚Üí CombatAction

---

## üîÅ 7. –ö–æ–≥–¥–∞ AI –¥—É–º–∞–µ—Ç

‚úîÔ∏è –≤ –Ω–∞—á–∞–ª–µ —Ö–æ–¥–∞  
‚úîÔ∏è –ø–æ—Å–ª–µ —Ä–µ–∞–∫—Ü–∏–∏ (overwatch)  
‚úîÔ∏è –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Ü–µ–ª–∏

‚ùå –Ω–µ –∫–∞–∂–¥—ã–π frame

---

## üß™ 8. –î–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º

- –≤–µ—Å—å random ‚Üí —á–µ—Ä–µ–∑ seed
- planner –Ω–µ —á–∏—Ç–∞–µ—Ç —Å—Ü–µ–Ω—É
- CombatState –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

---

## üîë 9. –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã

‚úîÔ∏è AI –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—Ü–µ–Ω–∞—Ö  
‚úîÔ∏è Utility ‚â† –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ  
‚úîÔ∏è GOAP ‚â† –≤—ã–±–æ—Ä —Ü–µ–ª–∏  
‚úîÔ∏è –õ—é–±–æ–π —Ö–æ–¥ –º–æ–∂–Ω–æ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å  
‚úîÔ∏è –ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã

---

## üöÄ –ö–∞–∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ

### üîπ –ü–æ–≤–µ–¥–µ–Ω–∏—è

- –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π
- –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π
- –ø–∞–Ω–∏—á–µ—Å–∫–∏–π

‚Üí –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–Ω—ã–µ Utility –≤–µ—Å–∞

---

### üîπ –£–º–Ω–µ–µ

- suppression
- flanking
- group tactics

‚Üí –Ω–æ–≤—ã–µ GOAP –¥–µ–π—Å—Ç–≤–∏—è

---

### üîπ –î—ë—à–µ–≤–æ

- –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω—ã
- –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥–ª—É–±–∏–Ω—É
- fallback –Ω–∞ Utility-only

---

## üî• –•–æ—á–µ—à—å –¥–∞–ª—å—à–µ?

–ú–æ–≥—É:  
1Ô∏è‚É£ –¥–∞—Ç—å **—Ä–∞–±–æ—á–∏–π GOAPPlanner (A*) –∫–æ–¥* \*  
2Ô∏è‚É£ –ø–æ–∫–∞–∑–∞—Ç—å **—Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–≥–æ —Ö–æ–¥–∞ AI**  
3Ô∏è‚É£ —Ä–∞–∑–æ–±—Ä–∞—Ç—å **–∫–∞–∫ AI –≤–∏–¥–∏—Ç –∫–∞—Ä—Ç—É (LOS + cover)**  
4Ô∏è‚É£ —Å–¥–µ–ª–∞—Ç—å **AI –∫–∞–∫ data-driven (JSON / Resource)**

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä ‚Äî –∏ —É–≥–ª—É–±–∏–º—Å—è –µ—â—ë.

---

LOS / visibility

---

–û—Ç–ª–∏—á–Ω–æ. **LOS / Visibility** ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π ¬´–∫—Ä–∞–µ—É–≥–æ–ª—å–Ω—ã–π –∫–∞–º–µ–Ω—å¬ª —Ç–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ X-COM-like. –ù–∏–∂–µ ‚Äî **—á–∏—Å—Ç–∞—è, –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**, –∫–æ—Ç–æ—Ä–∞—è:

- –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ü–µ–Ω—ã
- –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è AI, UI –∏ –±–æ—ë–≤
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **cover, –≤—ã—Å–æ—Ç—ã, –¥—ã–º, fog of war**
- –ª–µ–≥–∫–æ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è

---

## üß† –¶–µ–ª–∏ LOS / Visibility

‚úîÔ∏è –æ–¥–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–ª—è –∏–≥—Ä–æ–∫–∞ –∏ AI  
‚úîÔ∏è —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏  
‚úîÔ∏è grid-based (X-COM style)  
‚úîÔ∏è —Ä–∞—Å—à–∏—Ä—è–µ–º–æ (–¥—ã–º, –Ω–æ—á—å, –Ω–∞–≤—ã–∫–∏)

---

## üß± 1. –°–ª–æ–∏ —Å–∏—Å—Ç–µ–º—ã

üìå **Visibility ‚â† Shootability**  
–ú–æ–∂–Ω–æ *–≤–∏–¥–µ—Ç—å*, –Ω–æ *–Ω–µ —Å—Ç—Ä–µ–ª—è—Ç—å* (–æ–∫–Ω–∞, –¥—ã–º, –ø–æ–ª-—É–∫—Ä—ã—Ç–∏—è).

---

## üß¨ 2. –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã (–ù–ï —Å—Ü–µ–Ω–∞)

## TileData

---

## GridMapState

---

## üëÅ 3. VisibilitySystem (–æ—Å–Ω–æ–≤–∞)

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: Raycast –ø–æ grid (Bresenham)

üìå **–Ω–∏–∫–∞–∫–∏—Ö PhysicsRayCast**

---

## üßÆ 4. Bresenham (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω)

---

## üéØ 5. Line of Fire (—Å—Ç—Ä–µ–ª—å–±–∞)

üìå **blocks\_fire ‚â† blocks\_vision**

---

## üß± 6. Cover System (X-COM —Å—Ç–∏–ª—å)

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É–∫—Ä—ã—Ç–∏—è

| cover | —ç—Ñ—Ñ–µ–∫—Ç |
| --- | --- |
| 0 | –Ω–µ—Ç |
| 50 | half |
| 100 | full |

---

## üå´ 7. Visibility modifiers (–¥—ã–º, –Ω–æ—á—å)

## VisibilityContext

–ü—Ä–∏–º–µ—Ä:

–ò—Ç–æ–≥:

---

## üß† 8. Fog of War (–ø–µ—Ä-—Å—Ç–æ—Ä–æ–Ω–∞)

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:

üìå **AI –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–≤–æ–π FogState**

---

## ‚ö° 9. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–û–ß–ï–ù–¨ –≤–∞–∂–Ω–æ)

–û—á–∏—Å—Ç–∫–∞:

- –ø—Ä–∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–∏ —Ç–∞–π–ª–∞
- –ø—Ä–∏ –¥—ã–º–µ
- –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏

---

## üîë 10. –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã LOS —Å–∏—Å—Ç–µ–º—ã

‚úîÔ∏è —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏  
‚úîÔ∏è –æ–¥–∏–Ω –∫–æ–¥ –¥–ª—è UI / AI / combat  
‚úîÔ∏è –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Godot —Å—Ü–µ–Ω—ã  
‚úîÔ∏è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω  
‚úîÔ∏è –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

---

## ‚ùå –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå Physics raycast  
‚ùå LOS –≤ Node  
‚ùå —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI –∏ –∏–≥—Ä–æ–∫–∞  
‚ùå LOS = shooting  
‚ùå –∫–∞–∂–¥—ã–π frame –ø–µ—Ä–µ—Å—á—ë—Ç

---

## üß† –ö–∞–∫ —ç—Ç–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å AI

AI **–Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç** –æ —Ç–∞–π–ª–∞—Ö ‚Äî —Ç–æ–ª—å–∫–æ –æ —Ñ–∞–∫—Ç–∞—Ö.

---

## üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ (–ª–æ–≥–∏—á–Ω–æ)

–¢—ã —É–∂–µ —Å–æ–±—Ä–∞–ª **–ø–æ–ª–Ω—ã–π X-COM core**. –°–ª–µ–¥—É—é—â–∏–µ —Å–∏–ª—å–Ω—ã–µ —Ç–µ–º—ã:

1Ô∏è‚É£ **Destructible cover** (–ª–æ–º–∞–µ–º —Ç–∞–π–ª—ã)  
2Ô∏è‚É£ **Verticality** (—ç—Ç–∞–∂–∏, –±–∞–ª–∫–æ–Ω—ã)  
3Ô∏è‚É£ **Suppression / Panic**  
4Ô∏è‚É£ **Replay / Determinism verification**  
5Ô∏è‚É£ **Performance (batch LOS)**

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî —Å–∫–∞–∂–∏ –Ω–æ–º–µ—Ä, –∏–ª–∏ —Å–∫–∞–∂–∏ **¬´–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å¬ª** / **¬´destruction¬ª** ‚Äî –ø–æ–π–¥—ë–º –µ—â—ë –≥–ª—É–±–∂–µ.

---

—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∞—Å–µ—Ç–æ–≤, —Ä–∞–∑–¥–µ–ª—è—Ç—å –ø–æ —Ä–µ–∂–∏–º–∞–º –∏–ª–∏ –∫–∞–∫

---

–•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å ‚Äî –∏ –æ–Ω **–æ—á–µ–Ω—å –≤–∞–∂–µ–Ω**, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞—Å—Å–µ—Ç–æ–≤ –∑–∞–≤–∏—Å–∏—Ç:

- —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- —É–¥–æ–±—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- —Ä–∞–∑–º–µ—Ä —Å–±–æ—Ä–∫–∏
- –ø—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/–º–æ–¥–¥–∏–Ω–≥–∞

–î–ª—è X-COM-like –∏–≥—Ä—ã **–ª—É—á—à–µ –≤—Å–µ–≥–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –∞—Å—Å–µ—Ç—ã –Ω–µ –ø–æ —Ä–µ–∂–∏–º–∞–º**, –∞ –ø–æ **—Ç–∏–ø–∞–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞**, —Å *–ø–æ–¥–ø–∞–ø–∫–∞–º–∏* –ø–æ–¥ —Ä–µ–∂–∏–º—ã —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ.

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø

### –ê—Å—Å–µ—Ç—ã = –ø–æ —Ç–∏–ø–∞–º, –Ω–µ –ø–æ —Ä–µ–∂–∏–º–∞–º

–ü–æ—Ç–æ–º—É —á—Ç–æ:

- –æ—Ä—É–∂–∏–µ/—é–Ω–∏—Ç—ã/—ç—Ñ—Ñ–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–µ–∑–¥–µ
- —Ä–µ–∂–∏–º—ã ‚Äî –ø—Ä–æ—Å—Ç–æ ‚Äú–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è‚Äù –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –µ—Å–ª–∏ —Ä–∞–∑–¥–µ–ª—è—Ç—å –ø–æ —Ä–µ–∂–∏–º–∞–º, –±—É–¥–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ö–∞–æ—Å

---

## üóÇ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Å—Å–µ—Ç–æ–≤

---

## üß† –ì–¥–µ —Ä–µ–∂–∏–º—ã –≤–æ–æ–±—â–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å?

–†–µ–∂–∏–º—ã (Geoscape / Base / Mission) ‚Äî **–Ω–µ –∞—Å—Å–µ—Ç—ã**, —ç—Ç–æ *—Å—Ü–µ–Ω—ã* –∏ *–ª–æ–≥–∏–∫–∞*.  
–ò—Ö –º–æ–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ:

---

## üîπ –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å ‚Äú–ø–æ —Ä–µ–∂–∏–º–∞–º‚Äù –≤–Ω—É—Ç—Ä–∏ –∞—Å—Å–µ—Ç–æ–≤?

–¢–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∞—Å—Å–µ—Ç **–∞–±—Å–æ–ª—é—Ç–Ω–æ —É–Ω–∏–∫–∞–ª–µ–Ω** –¥–ª—è —Ä–µ–∂–∏–º–∞.

–ü—Ä–∏–º–µ—Ä:

–ò–ª–∏:

–ù–æ —ç—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º**, –∞ –Ω–µ –ø—Ä–∞–≤–∏–ª–æ–º.

---

## üìå –ü—Ä–∞–≤–∏–ª–æ ‚Äú—Ä–∞–∑–¥–µ–ª—è—Ç—å –ø–æ —Ä–µ–∂–∏–º–∞–º‚Äù ‚Äî —ç—Ç–æ –æ—à–∏–±–∫–∞, –µ—Å–ª–∏:

- —É —Ç–µ–±—è –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–ø—Ä–∞–π—Ç—ã
- —Ç—ã –∫–æ–ø–∏—Ä—É–µ—à—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –º–æ–¥–µ–ª–∏ –≤ —Ä–∞–∑–Ω—ã–µ –ø–∞–ø–∫–∏
- —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –Ω–∞–π—Ç–∏ –∞—Å—Å–µ—Ç –ø–æ –∏–º–µ–Ω–∏

---

## üß© –ü–æ—á–µ–º—É –ø–æ —Ç–∏–ø–∞–º –ª—É—á—à–µ –¥–ª—è X-COM-like

### üîπ 1) –û–¥–∏–Ω –∫–æ–Ω—Ç–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ

- –æ—Ä—É–∂–∏–µ –≤ –±–∞–∑–µ (–ø–æ–∫—É–ø–∫–∞)
- –æ—Ä—É–∂–∏–µ –≤ –º–∏—Å—Å–∏–∏ (–±–æ–π)
- –æ—Ä—É–∂–∏–µ –≤ UI (–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å)

### üîπ 2) –õ–µ–≥–∫–æ –¥–µ–ª–∞—Ç—å –±–∞–ª–∞–Ω—Å –∏ –º–æ–¥—ã

–ï—Å–ª–∏ –≤—Å—ë –≤ `assets/weapons/`, —Ç–æ:

- –±–∞–ª–∞–Ω—Å–∏—Ç—å ‚Äî –ø—Ä–æ—Å—Ç–æ
- –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ ‚Äî –ø—Ä–æ—Å—Ç–æ
- –¥–µ–ª–∞—Ç—å DLC ‚Äî –ø—Ä–æ—Å—Ç–æ

### üîπ 3) –ù–µ –Ω–∞–¥–æ ‚Äú–ø–µ—Ä–µ–º–µ—â–∞—Ç—å –∞—Å—Å–µ—Ç—ã –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞‚Äù

–†–µ–∂–∏–º—ã –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–Ω—Ç–µ–Ω—Ç.

---

## üìå –ö–ª—é—á–µ–≤–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω: data-driven assets

–ê—Å—Å–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Ä–µ—Å—É—Ä—Å–∞–º–∏**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏.

–ü—Ä–∏–º–µ—Ä:

–ê –∫–∞—Ä—Ç–∏–Ω–∫–∏:

---

## üîπ –•–æ—Ä–æ—à–∞—è —Å–≤—è–∑–∫–∞ Data ‚Üî Assets

---

## üß® –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å UI?

UI ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è.

**UI –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ —Ä–µ–∂–∏–º–∞–º**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- HUD —á–∞—Å—Ç–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
- –º–µ–Ω—é —á–∞—Å—Ç–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ
- —Å—Ç–∏–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –µ–¥–∏–Ω—ã–µ

---

## üß© –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (–¥–ª—è —Ç–≤–æ–µ–π –∏–≥—Ä—ã)

### ‚úîÔ∏è –ê—Å—Å–µ—Ç—ã –ø–æ —Ç–∏–ø–∞–º:

- `assets/sprites/`
- `assets/models/`
- `assets/audio/`
- `assets/vfx/`

### ‚úîÔ∏è Data –ø–æ —Ç–∏–ø–∞–º:

- `data/weapons/`
- `data/units/`
- `data/research/`
- `data/missions/`

### ‚úîÔ∏è –†–µ–∂–∏–º—ã –æ—Ç–¥–µ–ª—å–Ω–æ:

- `modes/geoscape/`
- `modes/base/`
- `modes/mission/`

---

## –ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å 2 –≤–µ—â–∏:

1. **–ø–æ–ª–Ω—ã–π —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞** –ø–æ–¥ —Ç–≤–æ—é –∏–≥—Ä—É (—Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤)
2. **—Å–∫–µ–ª–µ—Ç –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤ –≤ –≤–∏–¥–µ –≥–æ—Ç–æ–≤–æ–≥–æ tree** (–∫–∞–∫ –≤ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

–°–∫–∞–∂–∏, —á—Ç–æ —É–¥–æ–±–Ω–µ–µ: **1 –∏–ª–∏ 2**?

---

2

---

–û—Ç–ª–∏—á–Ω–æ. –ù–∏–∂–µ ‚Äî **–≥–æ—Ç–æ–≤—ã–π, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π `tree` –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ Godot 4** –¥–ª—è **X-COM-like**  
(–≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ ‚Üí –±–∞–∑–∞ ‚Üí –º–∏—Å—Å–∏–∏, AI planning, LOS, data-driven).

–≠—Ç–æ **–Ω–µ —É—á–µ–±–Ω—ã–π**, –∞ **—Ä–∞–±–æ—á–∏–π** —Å–∫–µ–ª–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∫–ª–∞—Å—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

---

## üìÅ –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```markdown
csharpres://
‚îú‚îÄ‚îÄ assets/                     # –¢–û–õ–¨–ö–û –≤–∏–∑—É–∞–ª / –∑–≤—É–∫ (–±–µ–∑ –ª–æ–≥–∏–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ audio/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ music/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sfx/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ sprites/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ units/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ soldiers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ aliens/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ weapons/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ environment/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ effects/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/                 # –µ—Å–ª–∏ 3D
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ units/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ buildings/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ environment/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ vfx/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ particles/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shaders/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ fonts/
‚îÇ
‚îú‚îÄ‚îÄ data/                       # –í–°–Ø –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ units/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ soldier.tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ alien_grunt.tres
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ weapons/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ rifle.tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plasma_rifle.tres
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ research/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ alien_materials.tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ plasma_weapons.tres
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ buildings/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lab.tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ workshop.tres
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ missions/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ufo_crash_site.tres
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ terror_site.tres
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goals/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ actions/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utility_curves/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ balance/
‚îÇ       ‚îú‚îÄ‚îÄ difficulties.tres
‚îÇ       ‚îî‚îÄ‚îÄ global_rules.tres
‚îÇ
‚îú‚îÄ‚îÄ core/                       # –ß–ò–°–¢–ê–Ø –ª–æ–≥–∏–∫–∞, –±–µ–∑ —Å—Ü–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ ecs/                    # (–∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ component.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ combat/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ combat_state.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ turn_system.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ damage_system.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ morale_system.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ visibility/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ visibility_system.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ los.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fog_of_war.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planner.gd          # GOAP / Utility
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ world_state.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ decision_context.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ map/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ grid_map_state.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tile_data.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pathfinding.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ save/
‚îÇ       ‚îú‚îÄ‚îÄ save_game.gd
‚îÇ       ‚îî‚îÄ‚îÄ serializer.gd
‚îÇ
‚îú‚îÄ‚îÄ modes/                      # –†–ï–ñ–ò–ú–´ –ò–ì–†–´ (—Å—Ü–µ–Ω—ã + –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ geoscape/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geoscape_scene.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geoscape_controller.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ intercept_logic.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_scene.tscn
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_controller.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ construction_logic.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ mission/
‚îÇ       ‚îú‚îÄ‚îÄ mission_scene.tscn
‚îÇ       ‚îú‚îÄ‚îÄ mission_controller.gd
‚îÇ       ‚îî‚îÄ‚îÄ tactical_ui.gd
‚îÇ
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ window.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tooltip.tscn
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hud/
‚îÇ   ‚îú‚îÄ‚îÄ menus/
‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ
‚îú‚îÄ‚îÄ systems/                    # Godot-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ input/
‚îÇ   ‚îú‚îÄ‚îÄ camera/
‚îÇ   ‚îú‚îÄ‚îÄ audio/
‚îÇ   ‚îî‚îÄ‚îÄ animation/
‚îÇ
‚îú‚îÄ‚îÄ debug/
‚îÇ   ‚îú‚îÄ‚îÄ combat_debug.gd
‚îÇ   ‚îú‚îÄ‚îÄ ai_debug_overlay.gd
‚îÇ   ‚îî‚îÄ‚îÄ visibility_debug.gd
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ los_test.gd
‚îÇ   ‚îú‚îÄ‚îÄ ai_planner_test.gd
‚îÇ   ‚îî‚îÄ‚îÄ combat_rules_test.gd
‚îÇ
‚îú‚îÄ‚îÄ autoload/
‚îÇ   ‚îú‚îÄ‚îÄ game.gd                 # –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ resources.gd            # –∑–∞–≥—Ä—É–∑–∫–∞ data
‚îÇ   ‚îî‚îÄ‚îÄ event_bus.gd
‚îÇ
‚îî‚îÄ‚îÄ main.tscn
```

---

## üß† –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —ç—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### ‚úÖ –ê—Å—Å–µ—Ç—ã ‚â† –¥–∞–Ω–Ω—ã–µ ‚â† –ª–æ–≥–∏–∫–∞

- `assets/` ‚Äî **–∫–∞—Ä—Ç–∏–Ω–∫–∏, –∑–≤—É–∫**
- `data/` ‚Äî **–ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã**
- `core/` ‚Äî **—á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞**
- `modes/` ‚Äî **–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**

---

### ‚úÖ –†–µ–∂–∏–º—ã ‚Äî –ù–ï –≤–ª–∞–¥–µ–ª—å—Ü—ã –¥–∞–Ω–Ω—ã—Ö

`mission` –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –æ—Ä—É–∂–∏–µ  
`base` –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —é–Ω–∏—Ç–æ–≤  
–í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `data/`

---

### ‚úÖ AI / LOS / Combat –Ω–µ –∑–Ω–∞—é—Ç –ø—Ä–æ —Å—Ü–µ–Ω—ã

–≠—Ç–æ –¥–∞—ë—Ç:

- —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- –¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º

---

## üö´ –ß—Ç–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ù–ï –¥–µ–ª–∞–µ—Ç—Å—è

‚ùå `assets/mission/`  
‚ùå `assets/base/`  
‚ùå `assets/geoscape/`  
‚ùå `logic_in_scene.gd`

---

## üß© –ö–∞–∫ —ç—Ç–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è

- DLC ‚Üí `data_dlc/`
- –º–æ–¥—ã ‚Üí `mods/`
- –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä ‚Üí `core/ + deterministic replay`
- editor tools ‚Üí `tools/`

---

## üî• –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–∞–ª—å—à–µ

–ú–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å **—Å–ª–µ–¥—É—é—â–∏–π –ª–æ–≥–∏—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å**:

1Ô∏è‚É£ –ö–∞–∫ —Å–≤—è–∑–∞—Ç—å `data` ‚Üî `core` ‚Üî `modes`  
2Ô∏è‚É£ –ö–∞–∫ –∑–∞–≥—Ä—É–∂–∞—Ç—å data (—Ä–µ—Å—É—Ä—Å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä)  
3Ô∏è‚É£ –ö–∞–∫ –¥–µ–ª–∞—Ç—å –º–æ–¥—ã –±–µ–∑ —Ö–∞–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞  
4Ô∏è‚É£ –ö–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å –º–∏—Å—Å–∏–∏ (procedural + handcrafted)

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä ‚Äî –ø–æ–π–¥—ë–º –≥–ª—É–±–∂–µ.

---

—á—Ç–æ —Ç–∞–∫–æ–µ LOS

---

**LOS** = **Line of Sight** ‚Äî *–ª–∏–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏*.

–ü—Ä–æ—â–µ:

> **–º–æ–∂–µ—Ç –ª–∏ –æ–¥–∏–Ω —é–Ω–∏—Ç –≤–∏–¥–µ—Ç—å –¥—Ä—É–≥–æ–π**, —Å —É—á—ë—Ç–æ–º —Å—Ç–µ–Ω, —É–∫—Ä—ã—Ç–∏–π, –¥—ã–º–∞, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ —Ç.–ø.

---

## üß† –ß—Ç–æ LOS –æ–∑–Ω–∞—á–∞–µ—Ç –≤ –∏–≥—Ä–µ

–í —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∏–≥—Ä–∞—Ö (X-COM, UFO, Jagged Alliance):

- üëÅ **–≤–∏–∂—É –≤—Ä–∞–≥–∞** ‚Üí –º–æ–≥—É —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å
- ‚ùå **–Ω–µ –≤–∏–∂—É** ‚Üí –Ω–µ –º–æ–≥—É –∞—Ç–∞–∫–æ–≤–∞—Ç—å, –Ω–µ –º–æ–≥—É –≤—ã–±—Ä–∞—Ç—å —Ü–µ–ª—å—é
- üëÅ **–≤–∏–∂—É —á–∞—Å—Ç–∏—á–Ω–æ** ‚Üí —à—Ç—Ä–∞—Ñ—ã

LOS –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –∑–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å**, –∞ –Ω–µ –∑–∞ —Å—Ç—Ä–µ–ª—å–±—É.

---

## ‚ùó LOS ‚â† —Å—Ç—Ä–µ–ª—å–±–∞

–≠—Ç–æ —á–∞—Å—Ç–∞—è –ø—É—Ç–∞–Ω–∏—Ü–∞.

| –°–∏—Å—Ç–µ–º–∞ | –í–æ–ø—Ä–æ—Å |
| --- | --- |
| **LOS** | *–í–∏–∂—É –ª–∏ —è —Ü–µ–ª—å?* |
| **LOF / Line of Fire** | *–ú–æ–≥—É –ª–∏ —Å—Ç—Ä–µ–ª—è—Ç—å?* |
| **Cover** | *–ù–∞—Å–∫–æ–ª—å–∫–æ —Ü–µ–ª—å –∑–∞—â–∏—â–µ–Ω–∞?* |

–ü—Ä–∏–º–µ—Ä:

- —á–µ—Ä–µ–∑ –æ–∫–Ω–æ ‚Äî **LOS –µ—Å—Ç—å**, **—Å—Ç—Ä–µ–ª—è—Ç—å –Ω–µ–ª—å–∑—è**
- —á–µ—Ä–µ–∑ –¥—ã–º ‚Äî **LOS –µ—Å—Ç—å**, —à—Ç—Ä–∞—Ñ—ã
- –∑–∞ —É–≥–ª–æ–º ‚Äî **LOS –Ω–µ—Ç**

---

## üß± –ö–∞–∫ LOS —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ

1. –ë–µ—Ä—ë–º **–ø–æ–∑–∏—Ü–∏—é –∞—Ç–∞–∫—É—é—â–µ–≥–æ**
2. –ë–µ—Ä—ë–º **–ø–æ–∑–∏—Ü–∏—é —Ü–µ–ª–∏**
3. –ü—Ä–æ–≤–æ–¥–∏–º **–ª–∏–Ω–∏—é –ø–æ —Å–µ—Ç–∫–µ**
4. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∞–π–ª—ã –º–µ–∂–¥—É –Ω–∏–º–∏
5. –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ **–±–ª–æ–∫–∏—Ä—É–µ—Ç –∑—Ä–µ–Ω–∏–µ** ‚Üí LOS = false

---

## üßÆ –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä (grid)

- `A` ‚Äî —é–Ω–∏—Ç
- `B` ‚Äî —Ü–µ–ª—å
- `#` ‚Äî —Å—Ç–µ–Ω–∞

üëâ LOS = ‚ùå (—Å—Ç–µ–Ω–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç)

---

## üìê –ß—Ç–æ –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ LOS

### üß± –ì–µ–æ–º–µ—Ç—Ä–∏—è

- —Å—Ç–µ–Ω—ã
- –≤—ã—Å–æ–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã
- —ç—Ç–∞–∂–∏ / –≤—ã—Å–æ—Ç—ã

### üå´ –û–∫—Ä—É–∂–µ–Ω–∏–µ

- –¥—ã–º
- —Ç—É–º–∞–Ω
- –Ω–æ—á—å
- –ø–æ–≥–æ–¥–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

### üë§ –Æ–Ω–∏—Ç—ã

- —Ä–∞–∑–º–µ—Ä
- –ø–æ–ª–æ–∂–µ–Ω–∏–µ (—Å–∏–¥—è/—Å—Ç–æ—è)
- –Ω–∞–≤—ã–∫–∏ (–æ–±–∑–æ—Ä)

---

## üß† –ü–æ—á–µ–º—É LOS ‚Äî –∫–ª—é—á–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

LOS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

- üéØ –¥–ª—è —Å—Ç—Ä–µ–ª—å–±—ã
- üß† –¥–ª—è AI (–∫–æ–≥–æ –≤–∏–¥–∏—Ç –≤—Ä–∞–≥)
- üå´ –¥–ª—è Fog of War
- üß≠ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–∏ (overwatch)
- üñ± –¥–ª—è UI (–ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Ü–µ–ª–µ–π)

**–û–¥–∏–Ω LOS ‚Üí –º–Ω–æ–≥–æ —Å–∏—Å—Ç–µ–º**

---

## üõ† –ö–∞–∫ LOS —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ–±—ã—á–Ω–æ

### ‚ùå –ü–ª–æ—Ö–æ

- PhysicsRayCast
- —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI –∏ –∏–≥—Ä–æ–∫–∞
- –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä

### ‚úÖ –•–æ—Ä–æ—à–æ

- grid-ray (Bresenham)
- —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- –∫—ç—à
- –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö

---

## üß© –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

> **LOS** ‚Äî —ç—Ç–æ *–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –∏–≥—Ä–æ–≤–æ–º –º–∏—Ä–µ*.

---

## ‚ö° –ï—Å–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ

> **LOS = ‚Äú–≤–∏–∂—É / –Ω–µ –≤–∏–∂—É‚Äù**

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –º–æ–≥—É:

- –ø–æ–∫–∞–∑–∞—Ç—å **–æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π –∫–æ–¥ LOS**
- –∏–ª–∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å **LOS vs Fog of War**
- –∏–ª–∏ **–∫–∞–∫ AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LOS**

–°–∫–∞–∂–∏, —á—Ç–æ –∏–º–µ–Ω–Ω–æ.

---

–≤ –∫–∞–∫—É—é –ø–∞–ø–∫—É —Ç–ø–∞–π–ª—Å–µ—Ç—ã —Å–æ—Ö—Ä–æ–Ω—è—Ç—å

---

–ö–æ—Ä–æ—Ç–∫–æ: **tilesets ‚Äî —ç—Ç–æ –∞—Å—Å–µ—Ç—ã**, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–µ—Å—Ç–æ **–≤ `assets/`**, –Ω–æ **–Ω–µ –≤ –∫–æ—Ä–Ω–µ** –∏ **–Ω–µ –≤ —Ä–µ–∂–∏–º–∞—Ö**.

–ù–∏–∂–µ ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è **Godot 4** –∏ —Ç–≤–æ–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

---

## ‚úÖ –ö—É–¥–∞ –∫–ª–∞—Å—Ç—å tilesets

## üéØ –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ

**Tileset = –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ—Å—É—Ä—Å –∫–∞—Ä—Ç—ã ‚Üí `assets/`**

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å

---

## üóÇ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ tilesets

üëâ **–ø–æ–¥–ø–∞–ø–∫–∏ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ã**  
üëâ **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–µ–∂–∏–º–∞–º ‚Äî —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ tilesets**, –Ω–µ –≤—ã—à–µ

---

## üß† –ü–æ—á–µ–º—É –ù–ï modes/

‚ùå `modes/mission/tilesets/` ‚Äî –ø–ª–æ—Ö–æ  
–ü–æ—Ç–æ–º—É —á—Ç–æ:

- tileset ‚Äî –Ω–µ –ª–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–∞
- –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ
- —Ä–µ–∂–∏–º—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å ¬´—Ç–æ–Ω–∫–∏–º–∏¬ª

---

## üß© –°–≤—è–∑—å tileset ‚Üî data ‚Üî core

### Tileset ‚Äî –¢–û–õ–¨–ö–û –≤–∏–∑—É–∞–ª

–ù–∏–∫–∞–∫–∏—Ö:

- —É—Ä–æ–Ω–∞
- —É–∫—Ä—ã—Ç–∏–π
- –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ LOS

### –ò–≥—Ä–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ ‚Äî –≤ data/

–ü—Ä–∏–º–µ—Ä:

Tileset —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ `TileData`, –Ω–æ **–Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç**.

---

## ‚ö†Ô∏è –ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞

‚ùå –∫–ª–∞—Å—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤ tileset  
‚ùå –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tileset –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –≥–µ–π–º–ø–ª–µ—è  
‚ùå –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å tilesets –ø–æ —Ä–µ–∂–∏–º–∞–º

---

## üß± –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏

---

## üîë –ö–æ—Ä–æ—Ç–∫–æ (–∑–∞–ø–æ–º–Ω–∏—Ç—å)

- **tileset = –∞—Å—Å–µ—Ç**
- üìÅ `assets/tilesets/`
- –ø–æ–¥—Ç–∏–ø—ã ‚Äî –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é (tactical / base / geoscape)
- –ª–æ–≥–∏–∫–∞ ‚Äî **–Ω–µ –≤ tileset**

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –º–æ–≥—É:  
1Ô∏è‚É£ –ø–æ–∫–∞–∑–∞—Ç—å **–∫–∞–∫ —Å–≤—è–∑–∞—Ç—å TileSet ‚Üí TileData –≤ Godot 4**  
2Ô∏è‚É£ —Ä–∞–∑–æ–±—Ä–∞—Ç—å **–∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å destructible tiles**  
3Ô∏è‚É£ –æ–±—ä—è—Å–Ω–∏—Ç—å **TileMap vs custom grid**

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä.

---

2

---

–û—Ç–ª–∏—á–Ω–æ. **–†–∞–∑—Ä—É—à–∞–µ–º—ã–µ —Ç–∞–π–ª—ã** ‚Äî —ç—Ç–æ –∫–∞–∫ —Ä–∞–∑ —Ç–æ—Ç —Å–ª—É—á–∞–π, –≥–¥–µ –≤–∞–∂–Ω–æ **–Ω–µ —Å–º–µ—à–∞—Ç—å –≤–∏–∑—É–∞–ª (TileSet) –∏ –≥–µ–π–º–ø–ª–µ–π (–¥–∞–Ω–Ω—ã–µ)**. –ù–∏–∂–µ ‚Äî **–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–¥ Godot 4**, X-COM-style.

---

## üß± –ü—Ä–∏–Ω—Ü–∏–ø ‚Ññ1 (—Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π)

> **TileSet –ù–ï –∑–Ω–∞–µ—Ç, —á—Ç–æ —Ç–∞–π–ª —Ä–∞–∑—Ä—É—à–∞–µ–º—ã–π.  
> –†–∞–∑—Ä—É—à–∞–µ–º–æ—Å—Ç—å ‚Äî —ç—Ç–æ DATA.**

TileSet = –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç  
TileData = –∫–∞–∫ —Å–µ–±—è –≤–µ–¥—ë—Ç

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

---

## üß¨ TileData (–≥–µ–π–º–ø–ª–µ–π)

---

## üß† –ü—Ä–∏–º–µ—Ä: –±–µ—Ç–æ–Ω–Ω–∞—è —Å—Ç–µ–Ω–∞

---

## üß® –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Ç–∞–π–ª–∞ (–ù–ï –≤ —Å—Ü–µ–Ω–µ)

---

## üîÅ –ó–∞–º–µ–Ω–∞ —Ç–∞–π–ª–∞ (–ª–æ–≥–∏–∫–∞ ‚Üí –≤–∏–∑—É–∞–ª)

üìå **core –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ TileMap**  
üìå **TileMap ‚Äî –ø—Ä–æ—Å—Ç–æ renderer**

---

## üß© TileMapAdapter (Godot-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞)

---

## üëÅ LOS –∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ

LOS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ:

–ü–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã —Ç–∞–π–ª–∞:

- —Å—Ç–µ–Ω–∞ ‚Üí rubble
- `blocks_vision = false`
- LOS —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Ö–æ–¥–∏—Ç

---

## üß† AI –∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ

AI –Ω–µ ‚Äú–∑–Ω–∞–µ—Ç‚Äù –ø—Ä–æ —Å—Ç–µ–Ω—ã. –û–Ω –≤–∏–¥–∏—Ç —Ñ–∞–∫—Ç—ã:

---

## üí• –¶–µ–ø–æ—á–∫–∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)

---

## üåã AoE / –≤–∑—Ä—ã–≤—ã

–†–∞–±–æ—Ç–∞–µ—Ç **–æ–¥–∏–Ω–∞–∫–æ–≤–æ** –¥–ª—è:

- –≥—Ä–∞–Ω–∞—Ç
- —Ä–∞–∫–µ—Ç
- —Ç–µ—Ä—Ä–æ—Ä–∞

---

## üö´ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

‚ùå —Ö—Ä–∞–Ω–∏—Ç—å HP –≤ TileMap  
‚ùå –¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω—ã –¥–ª—è —Å—Ç–µ–Ω  
‚ùå Physics collision –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã  
‚ùå ‚Äú–µ—Å–ª–∏ tile\_id == 5 –∑–Ω–∞—á–∏—Ç —Å—Ç–µ–Ω–∞‚Äù

---

## üß† –ò—Ç–æ–≥–æ–≤–∞—è –º–æ–¥–µ–ª—å

---

## üî• –•–æ—á–µ—à—å –¥–∞–ª—å—à–µ?

–õ–æ–≥–∏—á–Ω—ã–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è:

1Ô∏è‚É£ **–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å (—ç—Ç–∞–∂–∏, –±–∞–ª–∫–æ–Ω—ã, LOS –ø–æ –≤—ã—Å–æ—Ç–µ)**  
2Ô∏è‚É£ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–∫—Ä—ã—Ç–∏–µ (—é–Ω–∏—Ç—ã –∫–∞–∫ cover)**  
3Ô∏è‚É£ **–ø—Ä–µ–¥–ø—Ä–æ—Å—á—ë—Ç cover/LOS –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è**  
4Ô∏è‚É£ **—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä—É—à–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã**

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä ‚Äî –ø–æ–π–¥—ë–º –≥–ª—É–±–∂–µ.

---

–º–æ–∂–µ—à –ø—Ä–∏–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏, –¥–ª—è 2–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

–ö–æ–Ω–µ—á–Ω–æ. –ù–∏–∂–µ ‚Äî **–ø–æ–ª–Ω–∞—è, –∑–∞–∫–æ–Ω—á–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è 2D-–∏–≥—Ä—ã –Ω–∞ Godot 4**, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ **X-COM / UFO-like** (–≥–µ–æ—Å—Ü–µ–Ω–∞ ‚Üí –±–∞–∑–∞ ‚Üí —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –º–∏—Å—Å–∏–∏), —Å —É–ø–æ—Ä–æ–º –Ω–∞ **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –¥–∞–Ω–Ω—ã–µ –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º**.

–≠—Ç–æ **—ç—Ç–∞–ª–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –±—Ä–∞—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤—É.

---

## üìÅ –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (2D, Godot 4)

```markdown
csharpres://
‚îú‚îÄ‚îÄ assets/                         # –í–°–ï –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏ –∞—É–¥–∏–æ –∞—Å—Å–µ—Ç—ã (–±–µ–∑ –ª–æ–≥–∏–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ audio/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ music/                  # —Ñ–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sfx/                    # –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ sprites/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ units/                  # —Å–æ–ª–¥–∞—Ç—ã, –≤—Ä–∞–≥–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ weapons/                # –æ—Ä—É–∂–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ environment/            # –æ–±—ä–µ–∫—Ç—ã –∫–∞—Ä—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ effects/                # –≤—ã—Å—Ç—Ä–µ–ª—ã, –≤–∑—Ä—ã–≤—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/                     # –∏–∫–æ–Ω–∫–∏, –ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ tilesets/                   # TileSet / TileSource
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tactical/               # –±–æ–µ–≤—ã–µ –º–∏—Å—Å–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base/                   # –±–∞–∑–∞ –∏–≥—Ä–æ–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geoscape/               # –≥–ª–æ–±–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared/                 # –æ–±—â–∏–µ —Ç–∞–π–ª—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ shaders/                    # 2D —à–µ–π–¥–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ fonts/
‚îÇ
‚îú‚îÄ‚îÄ data/                           # –í–°–ï –∏–≥—Ä–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç (Resources)
‚îÇ   ‚îú‚îÄ‚îÄ units/                      # —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —é–Ω–∏—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ weapons/                    # –æ—Ä—É–∂–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ research/                   # –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ buildings/                  # –∑–¥–∞–Ω–∏—è –±–∞–∑—ã
‚îÇ   ‚îú‚îÄ‚îÄ map_tiles/                  # TileData (cover, LOS, HP)
‚îÇ   ‚îú‚îÄ‚îÄ missions/                   # –æ–ø–∏—Å–∞–Ω–∏–µ –º–∏—Å—Å–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ ai/                         # GOAP / Utility –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ balance/                    # –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ core/                           # –ß–ò–°–¢–ê–Ø –ª–æ–≥–∏–∫–∞ (–ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Godot-—Å—Ü–µ–Ω)
‚îÇ   ‚îú‚îÄ‚îÄ world/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ game_state.gd            # –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ time_system.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ combat/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ combat_state.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ turn_system.gd
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ damage_system.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ morale_system.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ map/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ grid_map_state.gd        # —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–π–ª–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tile_data.gd             # –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–π–ª–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pathfinding.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ map_generator.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ visibility/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ los.gd                   # Line of Sight
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fog_of_war.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cover_eval.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ai/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ planner.gd               # GOAP / Utility –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ world_state.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ decision_context.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ economy/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ resources.gd
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ upkeep.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ save/
‚îÇ       ‚îú‚îÄ‚îÄ save_game.gd
‚îÇ       ‚îî‚îÄ‚îÄ serializer.gd
‚îÇ
‚îú‚îÄ‚îÄ modes/                          # –†–ï–ñ–ò–ú–´ –ò–ì–†–´ (—Å—Ü–µ–Ω—ã + –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ geoscape/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geoscape_scene.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ geoscape_controller.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_scene.tscn
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base_controller.gd
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ mission/
‚îÇ       ‚îú‚îÄ‚îÄ mission_scene.tscn
‚îÇ       ‚îú‚îÄ‚îÄ mission_controller.gd
‚îÇ       ‚îî‚îÄ‚îÄ tactical_ui.gd
‚îÇ
‚îú‚îÄ‚îÄ ui/                             # UI —Å—Ü–µ–Ω—ã (–ù–ï –ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ common/                     # –æ–∫–Ω–∞, –∫–Ω–æ–ø–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ hud/                        # HUD –º–∏—Å—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ menus/                      # –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îî‚îÄ‚îÄ styles/                     # —Ç–µ–º—ã, —Å—Ç–∏–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ systems/                        # Godot-–∞–¥–∞–ø—Ç–µ—Ä—ã (—Ç–æ–Ω–∫–∏–π —Å–ª–æ–π)
‚îÇ   ‚îú‚îÄ‚îÄ input/
‚îÇ   ‚îú‚îÄ‚îÄ camera/
‚îÇ   ‚îú‚îÄ‚îÄ audio/
‚îÇ   ‚îî‚îÄ‚îÄ animation/
‚îÇ
‚îú‚îÄ‚îÄ autoload/                       # Singleton‚Äô—ã
‚îÇ   ‚îú‚îÄ‚îÄ game.gd                     # —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ resource_registry.gd        # –∑–∞–≥—Ä—É–∑–∫–∞ data/*
‚îÇ   ‚îî‚îÄ‚îÄ event_bus.gd
‚îÇ
‚îú‚îÄ‚îÄ debug/                          # –æ—Ç–ª–∞–¥–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ los_debug_overlay.gd
‚îÇ   ‚îú‚îÄ‚îÄ ai_debug.gd
‚îÇ   ‚îî‚îÄ‚îÄ combat_debug.gd
‚îÇ
‚îú‚îÄ‚îÄ tests/                          # —Ç–µ—Å—Ç—ã –ª–æ–≥–∏–∫–∏ (–±–µ–∑ —Å—Ü–µ–Ω)
‚îÇ   ‚îú‚îÄ‚îÄ los_test.gd
‚îÇ   ‚îú‚îÄ‚îÄ ai_planner_test.gd
‚îÇ   ‚îî‚îÄ‚îÄ combat_rules_test.gd
‚îÇ
‚îî‚îÄ‚îÄ main.tscn                       # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

---

## üß† –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å)

### 1Ô∏è‚É£ –ê—Å—Å–µ—Ç—ã ‚â† –î–∞–Ω–Ω—ã–µ ‚â† –õ–æ–≥–∏–∫–∞

- `assets/` ‚Äî **–∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç**
- `data/` ‚Äî **–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**
- `core/` ‚Äî **—á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**
- `modes/` ‚Äî **–∫–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è**

---

### 2Ô∏è‚É£ TileSet ‚Äî —ç—Ç–æ –ù–ï –∫–∞—Ä—Ç–∞

- TileSet ‚Üí –≤–∏–∑—É–∞–ª
- `data/map_tiles/` ‚Üí –ø—Ä–∞–≤–∏–ª–∞ —Ç–∞–π–ª–æ–≤
- `core/map/` ‚Üí —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

---

### 3Ô∏è‚É£ Core –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–µ—Å—Ç–∏—Ä—É–µ–º

–¢—ã –º–æ–∂–µ—à—å:

- –∑–∞–ø—É—Å–∫–∞—Ç—å LOS
- —Å—á–∏—Ç–∞—Ç—å —É—Ä–æ–Ω
- —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –±–æ–π  
	**–±–µ–∑ Godot —Å—Ü–µ–Ω—ã –≤–æ–æ–±—â–µ**

---

### 4Ô∏è‚É£ –†–µ–∂–∏–º—ã ‚Äî —Ç–æ–Ω–∫–∏–µ

–†–µ–∂–∏–º:

- –ø–æ–ª—É—á–∞–µ—Ç `GameState`
- –≤—ã–∑—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—ã
- –æ–±–Ω–æ–≤–ª—è–µ—Ç UI

–ù–∏–∫–∞–∫–æ–π –ª–æ–≥–∏–∫–∏ –≤ —Å—Ü–µ–Ω–∞—Ö.

---

## ‚ùå –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã (–Ω–µ –¥–µ–ª–∞–π —Ç–∞–∫)

‚ùå `assets/mission/`  
‚ùå `logic_in_scene.gd`  
‚ùå `TileMap –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã`  
‚ùå `AI —Å raycast`

---

## üß© –ö–∞–∫ —ç—Ç–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è

- –º–æ–¥—ã ‚Üí `mods/`
- DLC ‚Üí `data_dlc/`
- –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä ‚Üí deterministic replay
- —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç ‚Üí `tools/`

---

## üî• –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å

–°–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏—á–Ω—ã–µ —à–∞–≥–∏:

1Ô∏è‚É£ –∫–∞–∫ —Å–≤—è–∑–∞—Ç—å **TileMap ‚Üî MapState**  
2Ô∏è‚É£ –∫–∞–∫ —Ö—Ä–∞–Ω–∏—Ç—å **–º–∏—Å—Å–∏–∏ (—Ä—É—á–Ω—ã–µ + procedural)**  
3Ô∏è‚É£ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å **Editor tools** –¥–ª—è –∫–∞—Ä—Ç  
4Ô∏è‚É£ –∫–∞–∫ –≤—Å—ë —ç—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å/–∑–∞–≥—Ä—É–∂–∞—Ç—å

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä ‚Äî –ø–æ–π–¥—ë–º –≥–ª—É–±–∂–µ.

---

–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –±–∞—Ç —Å–∫—Ä–∏–ø—Ç –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—Å—Ç —ç—Ç—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤ –∏ –≤ –∫–∞–∂–¥—ã–π –∫–æ—Ç–æ–ª–æ–≥ –ø–æ–º–µ—Å—Ç–∏—Ç readMy.md —Ñ–∞–π–ª —Å –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–µ–º –¥–ª—è —á–µ–≥–æ –ø–∞–ø–∫–∞

---

–î–∞, –º–æ–∂–Ω–æ üëç  
–ù–∏–∂–µ ‚Äî **–≥–æ—Ç–æ–≤—ã–π `.bat` -—Å–∫—Ä–∏–ø—Ç –¥–ª—è Windows**, –∫–æ—Ç–æ—Ä—ã–π:

- —Å–æ–∑–¥–∞—ë—Ç **–≤—Å—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤** (2D, Godot 4, X-COM-like)
- **–≤ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ —Å–æ–∑–¥–∞—ë—Ç `README.md`**
- –≤ `README.md` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç **–∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞–ø–∫–∏**
- –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å **–ø—Ä—è–º–æ –≤ –∫–æ—Ä–Ω–µ Godot-–ø—Ä–æ–µ–∫—Ç–∞**

---

## üìÑ create\_project\_structure.bat

–°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (`res://` –Ω–∞ –¥–∏—Å–∫–µ) –∏ –∑–∞–ø—É—Å—Ç–∏ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º.

```markdown
bat@echo off
chcp 65001 > nul
setlocal enabledelayedexpansion

echo Creating project structure...

:: =========================
:: Helper: create dir + README
:: =========================
set CREATE_DIR=call :make_dir

:: ---------- assets ----------
%CREATE_DIR% assets "All visual and audio assets. No gameplay logic."
%CREATE_DIR% assets\audio "Music and sound effects."
%CREATE_DIR% assets\audio\music "Background music."
%CREATE_DIR% assets\audio\sfx "Sound effects."
%CREATE_DIR% assets\sprites "All 2D sprites."
%CREATE_DIR% assets\sprites\units "Unit sprites."
%CREATE_DIR% assets\sprites\weapons "Weapon sprites."
%CREATE_DIR% assets\sprites\environment "Environment sprites."
%CREATE_DIR% assets\sprites\effects "Visual effects."
%CREATE_DIR% assets\sprites\ui "UI graphics."
%CREATE_DIR% assets\tilesets "Godot TileSets."
%CREATE_DIR% assets\tilesets\tactical "TileSets for tactical missions."
%CREATE_DIR% assets\tilesets\base "TileSets for player base."
%CREATE_DIR% assets\tilesets\geoscape "TileSets for global map."
%CREATE_DIR% assets\tilesets\shared "Shared/common tiles."
%CREATE_DIR% assets\shaders "2D shaders."
%CREATE_DIR% assets\fonts "Fonts."

:: ---------- data ----------
%CREATE_DIR% data "Game data (Resources). Rules and content."
%CREATE_DIR% data\units "Unit stats and definitions."
%CREATE_DIR% data\weapons "Weapon definitions."
%CREATE_DIR% data\research "Research tree."
%CREATE_DIR% data\buildings "Base buildings."
%CREATE_DIR% data\map_tiles "Tile gameplay data (LOS, cover, HP)."
%CREATE_DIR% data\missions "Mission definitions."
%CREATE_DIR% data\ai "AI data (GOAP / Utility)."
%CREATE_DIR% data\balance "Global balance values."

:: ---------- core ----------
%CREATE_DIR% core "Pure game logic, engine-independent."
%CREATE_DIR% core\world "Global game state and time."
%CREATE_DIR% core\combat "Combat rules and systems."
%CREATE_DIR% core\map "Grid map logic and pathfinding."
%CREATE_DIR% core\visibility "LOS, Fog of War, cover."
%CREATE_DIR% core\ai "AI logic (planners, world state)."
%CREATE_DIR% core\economy "Economy and upkeep."
%CREATE_DIR% core\save "Save/load and serialization."

:: ---------- modes ----------
%CREATE_DIR% modes "Game modes (scenes + controllers)."
%CREATE_DIR% modes\geoscape "Global strategy mode."
%CREATE_DIR% modes\base "Base management mode."
%CREATE_DIR% modes\mission "Tactical combat mode."

:: ---------- ui ----------
%CREATE_DIR% ui "UI scenes and layouts."
%CREATE_DIR% ui\common "Reusable UI elements."
%CREATE_DIR% ui\hud "In-mission HUD."
%CREATE_DIR% ui\menus "Main menus."
%CREATE_DIR% ui\styles "Themes and styles."

:: ---------- systems ----------
%CREATE_DIR% systems "Godot-specific adapters."
%CREATE_DIR% systems\input "Input handling."
%CREATE_DIR% systems\camera "Camera logic."
%CREATE_DIR% systems\audio "Audio control."
%CREATE_DIR% systems\animation "Animation helpers."

:: ---------- autoload ----------
%CREATE_DIR% autoload "Singletons (autoloads)."

:: ---------- debug ----------
%CREATE_DIR% debug "Debug tools and overlays."

:: ---------- tests ----------
%CREATE_DIR% tests "Logic tests (no scenes)."

echo.
echo Done!
pause
exit /b

:: =========================
:: Function
:: =========================
:make_dir
if not exist "%~1" (
    mkdir "%~1"
)
if not exist "%~1\README.md" (
    echo # %~nx1>"%~1\README.md"
    echo.>>"%~1\README.md"
    echo %~2>>"%~1\README.md"
)
exit /b
```

---

## üìå –ß—Ç–æ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å

- üìÅ –∞–∫–∫—É—Ä–∞—Ç–Ω—É—é **–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É**
- üìÑ –≤ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ –µ—Å—Ç—å `README.md` ‚Äî –Ω–æ–≤–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç–Ω–æ, –∑–∞—á–µ–º –æ–Ω–∞
- üß† –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ **—á—ë—Ç–∫–æ –æ—Ç–¥–µ–ª—è–µ—Ç**:
	- –≤–∏–∑—É–∞–ª
	- –¥–∞–Ω–Ω—ã–µ
	- –ª–æ–≥–∏–∫—É
	- —Ä–µ–∂–∏–º—ã

---

## üí° –°–æ–≤–µ—Ç—ã

- `README.md` –º–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å (–ø—Ä–∞–≤–∏–ª–∞, –ø—Ä–∏–º–µ—Ä—ã, —Å—Å—ã–ª–∫–∏)
- Git –æ—Ç–ª–∏—á–Ω–æ –≤–∏–¥–∏—Ç –ø—É—Å—Ç—ã–µ –ø–∞–ø–∫–∏ —á–µ—Ä–µ–∑ `README.md`
- –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –ø–æ–¥ **–º–æ–¥—ã, DLC –∏ —Ç–µ—Å—Ç—ã**

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –º–æ–≥—É:  
1Ô∏è‚É£ —Å–¥–µ–ª–∞—Ç—å **PowerShell-–≤–µ—Ä—Å–∏—é**  
2Ô∏è‚É£ –¥–æ–±–∞–≤–∏—Ç—å **—à–∞–±–ª–æ–Ω—ã `.gd` —Ñ–∞–π–ª–æ–≤**  
3Ô∏è‚É£ —Å–¥–µ–ª–∞—Ç—å **–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –ø–æ–¥ DLC / mods**

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä.

---

—Ç–∞–∫–æ–π–∂–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è 2–¥ –∏–≥—Ä—ã —Å —Ä–µ–∂–∏–º–∞–º–∏

---

–î–∞ üëç –ù–∏–∂–µ ‚Äî **–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `.bat` -—Å–∫—Ä–∏–ø—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥ 2D-–∏–≥—Ä—É —Å —Ä–µ–∂–∏–º–∞–º–∏**  
(Geoscape / Base / Mission), **—á—É—Ç—å –ø—Ä–æ—â–µ –∏ —á–∏—â–µ**, –±–µ–∑ 3D –∏ –ª–∏—à–Ω–µ–≥–æ.

–û–Ω:

- —Å–æ–∑–¥–∞—ë—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–º–µ–Ω–Ω–æ –¥–ª—è 2D**
- –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç **—Ä–µ–∂–∏–º—ã –∏–≥—Ä—ã**
- –≤ **–∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ –∫–ª–∞–¥—ë—Ç `README.md`** —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º
- –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **Godot 4**
- –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å **–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**

---

## üìÑ create\_2d\_project\_with\_modes.bat

```markdown
bat@echo off
chcp 65001 > nul
setlocal enabledelayedexpansion

echo Creating 2D game project structure with modes...

set CREATE_DIR=call :make_dir

:: =====================
:: ASSETS (2D only)
:: =====================
%CREATE_DIR% assets "2D visual and audio assets. No gameplay logic."
%CREATE_DIR% assets\audio "All audio assets."
%CREATE_DIR% assets\audio\music "Background music."
%CREATE_DIR% assets\audio\sfx "Sound effects."

%CREATE_DIR% assets\sprites "All 2D sprites."
%CREATE_DIR% assets\sprites\units "Unit sprites (soldiers, enemies)."
%CREATE_DIR% assets\sprites\environment "Environment sprites."
%CREATE_DIR% assets\sprites\effects "VFX sprites."
%CREATE_DIR% assets\sprites\ui "UI sprites and icons."

%CREATE_DIR% assets\tilesets "Godot TileSets (visual only)."
%CREATE_DIR% assets\tilesets\mission "TileSets for tactical missions."
%CREATE_DIR% assets\tilesets\base "TileSets for player base."
%CREATE_DIR% assets\tilesets\geoscape "TileSets for global map."
%CREATE_DIR% assets\tilesets\shared "Shared/common tiles."

%CREATE_DIR% assets\fonts "Fonts."
%CREATE_DIR% assets\shaders "2D shaders."

:: =====================
:: DATA (game rules)
:: =====================
%CREATE_DIR% data "Game data and rules (Resources)."
%CREATE_DIR% data\units "Unit definitions and stats."
%CREATE_DIR% data\weapons "Weapon definitions."
%CREATE_DIR% data\research "Research tree."
%CREATE_DIR% data\buildings "Base buildings."
%CREATE_DIR% data\map_tiles "Tile gameplay data (LOS, cover, HP)."
%CREATE_DIR% data\missions "Mission definitions."
%CREATE_DIR% data\ai "AI data (GOAP / Utility)."
%CREATE_DIR% data\balance "Global balance values."

:: =====================
:: CORE (pure logic)
:: =====================
%CREATE_DIR% core "Pure game logic. No scenes, no rendering."
%CREATE_DIR% core\world "Global game state and time."
%CREATE_DIR% core\combat "Combat systems and rules."
%CREATE_DIR% core\map "Grid map state and pathfinding."
%CREATE_DIR% core\visibility "LOS, Fog of War, cover."
%CREATE_DIR% core\ai "AI planners and decision logic."
%CREATE_DIR% core\save "Save/load and serialization."

:: =====================
:: MODES (gameplay modes)
:: =====================
%CREATE_DIR% modes "Game modes (scenes + controllers)."

%CREATE_DIR% modes\geoscape "Global strategy mode (world map)."
%CREATE_DIR% modes\geoscape\scenes "Geoscape scenes."
%CREATE_DIR% modes\geoscape\ui "Geoscape UI."
%CREATE_DIR% modes\geoscape\controllers "Geoscape controllers."

%CREATE_DIR% modes\base "Base management mode."
%CREATE_DIR% modes\base\scenes "Base scenes."
%CREATE_DIR% modes\base\ui "Base UI."
%CREATE_DIR% modes\base\controllers "Base controllers."

%CREATE_DIR% modes\mission "Tactical combat mode."
%CREATE_DIR% modes\mission\scenes "Mission scenes."
%CREATE_DIR% modes\mission\ui "Tactical UI."
%CREATE_DIR% modes\mission\controllers "Mission controllers."

:: =====================
:: UI (shared)
:: =====================
%CREATE_DIR% ui "Shared UI elements."
%CREATE_DIR% ui\common "Reusable UI widgets."
%CREATE_DIR% ui\styles "Themes and styles."

:: =====================
:: SYSTEMS (Godot adapters)
:: =====================
%CREATE_DIR% systems "Godot-specific adapters."
%CREATE_DIR% systems\input "Input handling."
%CREATE_DIR% systems\camera "2D camera logic."
%CREATE_DIR% systems\audio "Audio control."

:: =====================
:: AUTOLOAD / DEBUG / TESTS
:: =====================
%CREATE_DIR% autoload "Autoload singletons."
%CREATE_DIR% debug "Debug and developer tools."
%CREATE_DIR% tests "Logic tests (no scenes)."

echo.
echo Project structure created successfully.
pause
exit /b

:: =====================
:: Function
:: =====================
:make_dir
if not exist "%~1" (
    mkdir "%~1"
)
if not exist "%~1\README.md" (
    echo # %~nx1>"%~1\README.md"
    echo.>>"%~1\README.md"
    echo %~2>>"%~1\README.md"
)
exit /b
```

---

## üß† –ß—Ç–æ –≤–∞–∂–Ω–æ –≤ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏

### ‚úîÔ∏è –ß—ë—Ç–∫–æ –≤–∏–¥–Ω–æ —Ä–µ–∂–∏–º—ã

–ö–∞–∂–¥—ã–π —Ä–µ–∂–∏–º:

- `scenes` ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ü–µ–Ω—ã
- `ui` ‚Äî UI —Ä–µ–∂–∏–º–∞
- `controllers` ‚Äî –ª–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–∞ (—Ç–æ–Ω–∫–∞—è)

---

### ‚úîÔ∏è 100% 2D

- –Ω–µ—Ç `models/`
- –Ω–µ—Ç 3D-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `TileSet + TileMap + data/map_tiles`

---

### ‚úîÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

- **TileSet ‚Äî –≤–∏–∑—É–∞–ª**
- **TileData ‚Äî –≥–µ–π–º–ø–ª–µ–π**
- **core ‚Äî —á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞**
- **modes ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ**

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –°–æ–∑–¥–∞–π –ø—É—Å—Ç–æ–π Godot-–ø—Ä–æ–µ–∫—Ç
2. –°–∫–æ–ø–∏—Ä—É–π `.bat` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
3. –ó–∞–ø—É—Å—Ç–∏
4. –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –≤ Godot ‚Äî –≤—Å—ë —É–∂–µ —Ä–∞–∑–ª–æ–∂–µ–Ω–æ

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–∞–ª—å—à–µ, –ª–æ–≥–∏—á–Ω–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ:

1Ô∏è‚É£ —à–∞–±–ª–æ–Ω `.gd` —Ñ–∞–π–ª–æ–≤ (CombatState, LOS, TileData)  
2Ô∏è‚É£ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö —Å—Ü–µ–Ω `.tscn`  
3Ô∏è‚É£ —Å–∫—Ä–∏–ø—Ç –ø–æ–¥ **mods / DLC**  
4Ô∏è‚É£ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π `Game.gd` (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤)

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä üëç

---

—Å–∫—Ä–∏–ø—Ç –ø–æ–¥ mods / DLC

---

–û—Ç–ª–∏—á–Ω–æ üëç  
–ù–∏–∂–µ ‚Äî **–≥–æ—Ç–æ–≤—ã–π `.bat` -—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–∏—Å—Ç–µ–º—ã `mods / DLC`** –ø–æ–¥ **2D Godot 4 –∏–≥—Ä—É —Å —Ä–µ–∂–∏–º–∞–º–∏**.

–û–Ω —Å–æ–∑–¥–∞—ë—Ç:

- –ø–∞–ø–∫—É `mods/`
- **—à–∞–±–ª–æ–Ω –º–æ–¥–∞ / DLC**
- –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: `data / assets / overrides`
- `README.md` –≤ **–∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ**
- –±–∞–∑–æ–≤—ã–π `mod.json` (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ **—Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å —Ç–µ–º, —á—Ç–æ –º—ã —É–∂–µ —Å–¥–µ–ª–∞–ª–∏**.

---

## üìÑ create\_mod\_structure.bat

> –ó–∞–ø—É—Å–∫–∞–π **–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞** (—Ç–∞–º –∂–µ, –≥–¥–µ `assets/`, `data/`, `core/`).

```markdown
bat@echo off
chcp 65001 > nul
setlocal enabledelayedexpansion

echo Creating MOD / DLC structure...

set CREATE_DIR=call :make_dir

:: =====================
:: MODS ROOT
:: =====================
%CREATE_DIR% mods "All game mods and DLCs."

:: =====================
:: SAMPLE MOD
:: =====================
set MOD_NAME=example_mod

%CREATE_DIR% mods\%MOD_NAME% "Standalone mod or DLC package."

:: ----- metadata -----
if not exist "mods\%MOD_NAME%\mod.json" (
    echo {>"mods\%MOD_NAME%\mod.json"
    echo   "id": "%MOD_NAME%",>>"mods\%MOD_NAME%\mod.json"
    echo   "name": "Example Mod",>>"mods\%MOD_NAME%\mod.json"
    echo   "version": "1.0.0",>>"mods\%MOD_NAME%\mod.json"
    echo   "author": "Your Name",>>"mods\%MOD_NAME%\mod.json"
    echo   "description": "Example mod / DLC package",>>"mods\%MOD_NAME%\mod.json"
    echo   "dependencies": [],>>"mods\%MOD_NAME%\mod.json"
    echo   "load_order": 100>>"mods\%MOD_NAME%\mod.json"
    echo }>>"mods\%MOD_NAME%\mod.json"
)

:: ----- data -----
%CREATE_DIR% mods\%MOD_NAME%\data "Gameplay data added or overridden by this mod."
%CREATE_DIR% mods\%MOD_NAME%\data\units "New or overridden units."
%CREATE_DIR% mods\%MOD_NAME%\data\weapons "New or overridden weapons."
%CREATE_DIR% mods\%MOD_NAME%\data\research "New research entries."
%CREATE_DIR% mods\%MOD_NAME%\data\map_tiles "Tile gameplay data."
%CREATE_DIR% mods\%MOD_NAME%\data\missions "New missions."

:: ----- assets -----
%CREATE_DIR% mods\%MOD_NAME%\assets "Visual/audio assets used by the mod."
%CREATE_DIR% mods\%MOD_NAME%\assets\sprites "Sprites."
%CREATE_DIR% mods\%MOD_NAME%\assets\tilesets "TileSets."
%CREATE_DIR% mods\%MOD_NAME%\assets\audio "Audio assets."
%CREATE_DIR% mods\%MOD_NAME%\assets\shaders "Shaders."

:: ----- overrides -----
%CREATE_DIR% mods\%MOD_NAME%\overrides "Overrides of base game data."
%CREATE_DIR% mods\%MOD_NAME%\overrides\data "Override existing game data."
%CREATE_DIR% mods\%MOD_NAME%\overrides\assets "Override existing assets."

:: ----- scripts (optional) -----
%CREATE_DIR% mods\%MOD_NAME%\scripts "Optional mod-specific scripts."

echo.
echo Mod/DLC structure created successfully.
pause
exit /b

:: =====================
:: Function
:: =====================
:make_dir
if not exist "%~1" (
    mkdir "%~1"
)
if not exist "%~1\README.md" (
    echo # %~nx1>"%~1\README.md"
    echo.>>"%~1\README.md"
    echo %~2>>"%~1\README.md"
)
exit /b
```

---

## üìÅ –ß—Ç–æ –≤ –∏—Ç–æ–≥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è

---

## üß† –ö–∞–∫ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∏–≥—Ä–µ (–∫–æ–Ω—Ü–µ–ø—Ç)

### üîπ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–æ–≤

### üîπ Override-–ª–æ–≥–∏–∫–∞

- –µ—Å–ª–∏ `overrides/data/weapons/rifle.tres` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –∑–∞–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–π
- –µ—Å–ª–∏ –Ω–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª

---

## üîë –ü–æ—á–µ–º—É —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è

‚úîÔ∏è –º–æ–¥ **–Ω–µ –ª–æ–º–∞–µ—Ç** core  
‚úîÔ∏è –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:

- —á–∏—Å—Ç—ã–µ DLC
- –±–∞–ª–∞–Ω—Å-–º–æ–¥—ã
- –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –º–æ–¥—ã
- total conversion  
	‚úîÔ∏è –ª–µ–≥–∫–æ –æ—Ç–∫–ª—é—á–∞—Ç—å  
	‚úîÔ∏è –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏

---

## üö´ –ß–µ–≥–æ –ù–ï–¢ (–∏ —ç—Ç–æ —Ö–æ—Ä–æ—à–æ)

‚ùå –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ `core/`  
‚ùå –ª–æ–≥–∏–∫–∞ –≤ –∞—Å—Å–µ—Ç–∞—Ö  
‚ùå —Ö–∞–æ—Å –≤ –ø—É—Ç—è—Ö

---

## üî• –•–æ—á–µ—à—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥?

–õ–æ–≥–∏—á–Ω–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ:

1Ô∏è‚É£ GDScript-–∑–∞–≥—Ä—É–∑—á–∏–∫ –º–æ–¥–æ–≤ (`ModLoader.gd`)  
2Ô∏è‚É£ —Å–∏—Å—Ç–µ–º–∞ override —Ä–µ—Å—É—Ä—Å–æ–≤  
3Ô∏è‚É£ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–¥–æ–≤  
4Ô∏è‚É£ hot-reload –º–æ–¥–æ–≤ (dev mode)

–°–∫–∞–∂–∏ –Ω–æ–º–µ—Ä ‚Äî –ø–æ–π–¥—ë–º –¥–∞–ª—å—à–µ üöÄ